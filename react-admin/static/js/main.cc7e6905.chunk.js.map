{"version":3,"sources":["assets/images/icon_user.gif","assets/images/icon_lock.jpg","View/Empty/index.js","Components/TextValidator/index.js","Service/index.js","Common/Auth.js","Common/Helper.js","View/Login/index.js","Components/AuthRoute/index.js","Components/MenuBar/index.js","Components/Top/index.js","Action/ActionTyps.js","View/Admin/PerMgr/AddPerFrom.js","View/Admin/PerMgr/AddPer.js","View/Admin/PerMgr/EditPerFrom.js","View/Admin/PerMgr/EditPer.js","View/Admin/PerMgr/index.js","Action/PerAction.js","View/Admin/RoleMgr/AddRoleFrom.js","View/Admin/RoleMgr/AddRole.js","View/Admin/RoleMgr/EditRoleFrom.js","View/Admin/RoleMgr/EditRole.js","View/Admin/RoleMgr/SetRolePer.js","View/Admin/RoleMgr/index.js","View/Admin/UserMgr/AddUserFrom.js","Reducer/UserReducer.js","Reducer/PerReducer.js","Reducer/index.js","store.js","Action/UserAction.js","View/Admin/UserMgr/AddUser.js","View/Admin/UserMgr/EditUserFrom.js","View/Admin/UserMgr/EditUser.js","View/Admin/UserMgr/SetRole.js","View/Admin/UserMgr/SetPer.js","View/Admin/UserMgr/index.js","View/GoodsMgr/index.js","View/Home/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Empty","TextValidator","this","state","isValid","style","color","textAlign","width","fontSize","position","left","top","padding","getErrorMessage","props","rest","errorMessages","validators","requiredError","validatorListener","errorText","ValidatorComponent","axios","interceptors","request","use","config","console","log","url","error","Promise","reject","userLogin","data","post","loadUserList","params","_sort","_order","get","addUser","deleteUser","ids","all","map","id","delete","updataUser","user","put","loadRoleList","deleteRoles","addRole","role","saveRole","loadPerList","addPer","per","editPer","deletePer","loadAllRoles","loadUserRoles","userId","addUserRole","userRole","deleteUserRole","loadAllPer","loadRolePer","roleId","addRolePer","rolePer","deleteRolePer","rolePerId","loadUserPer","addUserPer","userPer","deleteUserPer","loadUserAllPer","APP_LOGIN_USER","GetLoginUserInfo","userStr","sessionStorage","getItem","JSON","parse","getLoginToken","getLoginUserAllPer","loginUserPerStr","resolve","service","then","res","setItem","stringify","formateDate2String","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","Login","handleSubmit","history","location","code","token","search","str","pareArr","slice","split","result","forEach","item","keyValueArr","urlParams2Object","preurl","push","message","handlerChange","e","newState","target","name","value","setState","username","password","src","Date","now","className","to","onSubmit","ICON_USER","alt","onChange","placeholder","ICON_LOCK","type","onClick","changeCode","Component","AuthRoute","authorized","findIndex","path","render","SubMenu","Menu","MenuBar","current","perMenu","handleMenuClick","find","key","filter","m","rootMenu","pId","selectedKeys","mode","rootM","childMenus","sort","a","b","order","title","des","childM","Item","Top","loginUser","handlerLogout","Modal","confirm","content","onOk","clear","href","LOAD_USER_LIST","ADD_USER","EIDT_USER","LOAD_PER_LIST","ADD_PER","EDIT_PER","DEL_PER","Option","Select","AddPerFrom","form","setFieldsValue","getFieldDecorator","layout","labelCol","span","wrapperCol","label","rules","min","max","required","prefix","AddPerFromComponent","Form","create","AddPer","perAddFrm","handleAddPer","validateFields","err","newPer","Object","assign","del","status","subon","subby","info","close","loadData","catch","visible","cancelText","okText","onCancel","destroyOnClose","ref","frm","EditPerFrom","EditPerFromComponent","EditPer","editFrm","handleEditPer","val","Search","Input","PerMgr","showAddPerDialog","showEditPerDialog","selectedRowKeys","_page","_limit","q","columns","dataIndex","row","showEditPer","marginRight","onConfirm","deletePerIds","buttonStyle","margin","loadDataAsync","handleAdd","closeAddPerDialog","closeEditPerDialog","handleDelete","length","submitDeletePer","newArr","includes","perList","v","page","changePage","handleBarEdit","editPerId","editRow","handleSearch","preState","pageSize","userRowSelection","enterButton","onSearch","dataSource","rowKey","bordered","rowSelection","pagination","total","defaultCurrent","connect","PerList","list","dispatch","parseInt","headers","ActionTyps","payload","LoadDataAsync","DeletePerAsync","AddRoleFrom","pattern","AddRoleFromComponent","AddRole","confirmLoading","userAddFrm","handleAddRole","hanldeCloseModal","EditRoleFrom","EditRoleFromComponent","EditRole","handleEditRole","SetRolePer","allPer","allCheckedPer","handleChangeChecked","checked","handleSubmitSetPer","promiseArr","index","rp","permissionId","Service","success","blue","gutter","defaultChecked","RoleMgr","rolelist","handleEdit","handleRoleDelte","showAddRoleDialog","showEditRoleDialog","showSetRolePerDialog","setRolePer","editRole","editRol","cloeEditDialog","handleDelte","warn","toString","newRole","cloeAddDialog","handleRolePer","setRolePerCom","record","setRP","AddUserFrom","handleChangeAvatar","file","response","img","getValueFromEvent","accept","action","Authorization","listType","combineReducers","UserList","ActionTypes","unshift","preUserIndex","splice","editPerIndex","store","createStore","rootReducer","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","LoadUserActionAsync","AddUserActionAsync","EditUserActionAsync","AddUserFromComponent","AddUser","handleOk","isTeacher","avatar","process","resetFields","EditUserFrom","mail","phone","EditUserFromComponent","EditUser","handleEditUser","newUser","SetRole","allRole","userRoles","allCheckedRole","handleChangeCheckbox","checkedRoleArr","handleSubmitSetRole","p1","p2","roles","roleInfo","checkd","some","SetPer","up","UserMgr","unsubscribe","userlist","getState","showEditUserDialog","editUserRow","handleUserDelte","showAddUserDialog","showSetRoleDialog","showSetPerDialog","setRoleUser","setPerUser","userListChange","editUser","newSelectRowKeys","hideAddUserDialog","hideEditUserDialog","handleSetRole","setRoleUserId","handleSetPer","setPerUserId","subscribe","GoodsMgr","match","Header","Layout","Footer","Sider","Content","Home","Axios","defaults","removeItem","height","component","backgroundColor","lineHeight","App","exact","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cc7e6905.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,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\"","module.exports = \"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QOPaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6Mjg1M2VlOWMtN2IwMS00NTZkLTk0YjYtNzdlYmI4MGFjMTQxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA0RjM1MjQ2QzY2QTExRTlBOEFFQUZDMTk5MjJEMERDIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA0RjM1MjQ1QzY2QTExRTlBOEFFQUZDMTk5MjJEMERDIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N2IzZmQzMjMtYzVmYy00ZDEyLTkwNjktNmM1ZGVhZjFmMzVlIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6MmYxMTZkNWYtZjhkMi0xMTc5LWE3MjQtZjFiNDdlMzgzMThjIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoKDBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8AAEQgAFwAYAwERAAIRAQMRAf/EAGIAAAIDAQAAAAAAAAAAAAAAAAMFBAYHCAEBAAAAAAAAAAAAAAAAAAAAABAAAgEDBAIABwEAAAAAAAAAAQIDEQQFADESEyEGUcEiQtMUlAcRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AOlr+XJTXyWFmxto+vtnvSnKgJoEj5fTyO5rsNAGRctjHik/YkyFo7rHPG6L2oHNOamMLUA7gjbQOdBlfuskh9nu1LtxHWF8mgHWp+egB7NjosTlTa200kkYRHDOwLVYfFaaDVLFmayt2Y1YxISTuTxGgT5XH+mz30kmSe3F54EgefrbwBSqh1+2mgiDEf54CD2Wv9R/JoLRH1iNeunXQcOO3Gnimg//2Q==\"","import React from 'react'\r\n\r\nexport default function Empty() {\r\n    return (\r\n        <div>\r\n            404,未匹配\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react'\r\nimport { ValidatorComponent } from 'react-form-validator-core';\r\n\r\nclass TextValidator extends ValidatorComponent {\r\n    errorText() {\r\n        const { isValid } = this.state;\r\n        if (isValid) {\r\n            return null;\r\n        }\r\n        return (\r\n            <span style={{ color: 'red', textAlign: 'center', width: '150px', fontSize: '12px', position: 'absolute', left: '100%', top: '5px', padding: '0 0 0 15px' }}>\r\n                {this.getErrorMessage()}\r\n            </span>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { errorMessages, validators, requiredError, validatorListener, ...rest } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <input {...rest} />\r\n                {this.errorText()}\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TextValidator","import axios from 'axios'\r\n// 路由拦截\r\naxios.interceptors.request.use(config => {\r\n    console.log('config.url',config.url);\r\n    return config;\r\n}, error => {\r\n    return Promise.reject(error)\r\n})\r\n/**\r\n * 请求登录\r\n */\r\nexport default {\r\n    userLogin(data) {\r\n        return axios.post('/api/userlogin', data)\r\n    },\r\n    //用户请求列表\r\n    loadUserList(params) {\r\n        // 排序\r\n        params = { ...params, ...{ _sort: 'id', _order: 'desc' } }\r\n        return axios.get('/per/user', { params })\r\n    },\r\n    // 添加用户\r\n    addUser(data) {\r\n        return axios.post('/per/user', data)\r\n    },\r\n    // 删除用户\r\n    /**\r\n     * \r\n     * @param {*} ids \r\n     * Promise.all获得的成功结果的数组里面的数据顺序和Promise.all接收到的数组顺序是一致的，\r\n     * 即p1的结果在前，即便p1的结果获取的比p2要晚。\r\n     * Promise.all可以将多个Promise实例包装成一个新的Promise实例。\r\n     */\r\n    deleteUser(ids) {\r\n        return Promise.all(ids.map(id => {\r\n            return axios.delete(`/per/user/${id}`)\r\n        }))\r\n    },\r\n    // 修改用户数据 \r\n    updataUser(user) {\r\n        return axios.put(`/per/user/${user.id}`, user);\r\n    },\r\n    // 角色管理列表\r\n    loadRoleList(params) {\r\n        return axios.get('/per/role', { params })\r\n    },\r\n    // 角色管理删除\r\n    deleteRoles(ids) {\r\n        //接收的是数组 因为要删除多个,所以可以用到promise.all\r\n        return Promise.all(ids.map(id => axios.delete(`/per/role/${id}`)));\r\n    },\r\n    // 角色管理添加 \r\n    addRole(role) {\r\n        return axios.post(`/per/role`, role);\r\n    },\r\n    // 角色管理修改保存\r\n    saveRole(role) {\r\n        return axios.put(`/per/role/${role.id}`, role);\r\n    },\r\n    // 权限管理列表\r\n    loadPerList(params) {\r\n        return axios.get('/per/permission', { params });\r\n    },\r\n    // 添加权限的方法\r\n    addPer(per) {\r\n        return axios.post('/per/permission', per);\r\n    },\r\n    // 修改权限\r\n    editPer(per) {\r\n        return axios.put(`/per/permission/${per.id}`, per);\r\n    },\r\n    // 删除权限\r\n    deletePer(ids) {\r\n        return Promise.all(ids.map(id => {\r\n            return axios.delete(`/per/permission/${id}`);\r\n        }));\r\n    },\r\n    // 加载所有的角色信息\r\n    loadAllRoles() {\r\n        return axios.get('/per/role');\r\n    },\r\n    // 加载用户关联的角色信息\r\n    loadUserRoles(userId) {\r\n        return axios.get('/per/user_role', { params: { userId } });\r\n    },\r\n    // 给用户设置关联的角色信息\r\n    addUserRole(userRole) {\r\n        return axios.post('/per/user_role', userRole);\r\n    },\r\n    // 删除用户和角色的关联\r\n    deleteUserRole(id) {\r\n        return axios.delete(`/per/user_role/${id}`);\r\n    },\r\n    // 加载所有的权限数据\r\n    loadAllPer() {\r\n        return axios.get('/per/permission');\r\n    },\r\n    // 加载权限数据\r\n    loadRolePer(roleId) {\r\n        return axios.get('/per/role_permission', { params: { roleId } });\r\n    },\r\n\r\n    // 添加角色关联权限\r\n    addRolePer(rolePer) {\r\n        return axios.post('/per/role_permission', rolePer);\r\n    },\r\n    // 去掉角色和权限关联\r\n    deleteRolePer(rolePerId) {\r\n        return axios.delete(`/per/role_permission/${rolePerId}`);\r\n    },\r\n    // 加载用户的所有关联的用户权限\r\n    loadUserPer(userId) {\r\n        return axios.get('/per/user_permission', { params: { userId } });\r\n    },\r\n    // 添加用户关联的权限\r\n    addUserPer(userPer) {\r\n        return axios.post('/per/user_permission', userPer);\r\n    },\r\n    // 删除用户关联权限\r\n    deleteUserPer(id) {\r\n        return axios.delete(`/per/user_permission/${id}`);\r\n    },\r\n    // 加载用户的所有权限\r\n    loadUserAllPer(id) {\r\n        return axios.get(`/per/getUserPer/${id}`);\r\n    }\r\n}","import service from '../Service'\r\nconst APP_LOGIN_USER = 'APP_LOGIN_USER'\r\n\r\n/**\r\n * 验证登录信息\r\n * @return {Boolean} true:false\r\n */\r\nexport function AuthLogin() {\r\n    let loginUserStr = sessionStorage.getItem(APP_LOGIN_USER);\r\n    if (loginUserStr) {\r\n        return true\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * 存储当前用户信息\r\n * @param {object} user \r\n * @return undefined\r\n */\r\nexport function SaveLoginUserInfo(user) {\r\n    sessionStorage.setItem(APP_LOGIN_USER, JSON.stringify(user))\r\n}\r\n/**\r\n * 获取当前用户信息\r\n * @param {object} user \r\n * @return undefined\r\n */\r\nexport function GetLoginUserInfo() {\r\n    let userStr = sessionStorage.getItem(APP_LOGIN_USER)\r\n    if (userStr) {\r\n        return JSON.parse(userStr)\r\n    }\r\n    return null\r\n}\r\n/**\r\n * 获取当前退出信息\r\n * @param {object} user \r\n */\r\nexport function Logout() {\r\n    sessionStorage.clear()\r\n}\r\n/**\r\n * 设置token信息\r\n * @prams {Object} user\r\n */\r\nexport function saveLoginToken(token) {\r\n    sessionStorage.setItem('Authorization', token)\r\n}\r\n/**\r\n * 请求token信息\r\n * @prams {Object} user\r\n */\r\nexport function getLoginToken() {\r\n    return sessionStorage.getItem('Authorization')\r\n}\r\n\r\n/**\r\n * 获取当前用户登录的所有权限\r\n * @return {Promise} 对象内部返回当前登录用户的所有权限\r\n */\r\nexport function getLoginUserAllPer() {\r\n    // 获取用户当前登录的ID\r\n    let userId = GetLoginUserInfo().id\r\n    //  先从缓存中获取当前登录用户的所有权限。如果有直接返回\r\n    let loginUserPerStr = sessionStorage.getItem('LOGIN_USER_PER');\r\n    if (loginUserPerStr) {\r\n        return Promise.resolve(JSON.parse(loginUserPerStr));\r\n    }\r\n    // 如果没有 才发送ajax请求获取当前登录用户的所有权限\r\n    return service.loadUserAllPer(userId)\r\n        .then(res => {\r\n            sessionStorage.setItem('LOGIN_USER_PER', JSON.stringify(res.data));\r\n            return res.data;\r\n        })\r\n\r\n}","/**\r\n * 将查询字符串转成参数对像\r\n * @param {String} str 查询字符串\r\n * @returns {Object}\r\n * \r\n */\r\nexport function urlParams2Object(str) {\r\n    /**\r\n     * 传入路径\r\n     * http://localhost:3000/login?str=233&name=90\r\n     *  str:  ?str=233&name=90\r\n     *  */\r\n    if (!str) {\r\n        return null;\r\n    }\r\n    // 从1开始截取.截取到最后(整个url)\r\n    str = str.slice(1)\r\n    // 用&分隔;返回数组  [\"ttp://localhost:3000/login?str=233\", \"name=90\"]\r\n    let pareArr = str.split('&');\r\n    let result = {};\r\n    pareArr.forEach(item => {\r\n        // 以=号分隔,\r\n        let keyValueArr = item.split('=');\r\n        //{ttp://localhost:3000/login?str: \"233\", name: \"90\"}\r\n        result[keyValueArr[0]] = keyValueArr[1];\r\n    })\r\n    return result;\r\n}\r\n\r\n// 时间转成字符串 RoleMgr/index.js\r\nexport function formateDate2String(date) {\r\n    return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()} ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { message } from 'antd';\r\nimport TextValidator from './../../Components/TextValidator'\r\nimport { ValidatorForm } from 'react-form-validator-core';\r\nimport service from '../../Service'\r\nimport { SaveLoginUserInfo,saveLoginToken } from '../../Common/Auth'\r\nimport { urlParams2Object } from '../../Common/Helper'\r\nimport ICON_USER from './../../assets/images/icon_user.gif'\r\nimport ICON_LOCK from './../../assets/images/icon_lock.jpg'\r\nimport './login.scss'\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            username: '18911112222',\r\n            password: 'aicoder.com',\r\n            code: '22222'\r\n        }\r\n    }\r\n    handleSubmit = () => {\r\n        let { history, location } = this.props;\r\n        service.userLogin(this.state).then(res => {\r\n            if (res.data.code === 1) {\r\n                // 保存用户信息\r\n                SaveLoginUserInfo(res.data.user)\r\n                // 保存token\r\n                saveLoginToken(res.data.token)\r\n                // 跳到请求登录之前页面默认是home页面\r\n                let url = '/home'\r\n                if (location.search) {\r\n                    let params = urlParams2Object(location.search)\r\n                    if (params.preurl) {\r\n                        url = params.preurl\r\n                    }\r\n                }\r\n                history.push(url)\r\n            } else {\r\n                message.error('登录失败，请输入正确的用户名密码！');\r\n            }\r\n\r\n        })\r\n    }\r\n    // 获取表单值并赋值\r\n    handlerChange = (e) => {\r\n        let newState = { [e.target.name]: e.target.value };\r\n        this.setState(state => ({ ...state, ...newState }));\r\n    }\r\n    // 获取验证码图片\r\n    changeCode(e) {\r\n        e.target.src = '/api/code/?id=' + Date.now()\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"login\">\r\n                <div className=\"container\">\r\n                    <div className=\"top\">\r\n                        <div className=\"logo-wrap\">\r\n                            <Link className=\"logo\" to=\"/home\"></Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"main-bd\">\r\n                    <div className=\"login-box-wrap\">\r\n                        <div className=\"login-box container\">\r\n                            <ValidatorForm\r\n                                onSubmit={this.handleSubmit}\r\n                                className=\"login-group\"\r\n                            >\r\n                                <div className=\"input-group\">\r\n                                    <img src={ICON_USER} alt=\"用户名\" />\r\n                                    {/* <input name=\"username\" onChange={this.handlerChange} value={this.state.username} placeholder=\"请输入电话号码\" type=\"text\"/> */}\r\n                                    <TextValidator\r\n                                        name=\"username\"\r\n                                        onChange={this.handlerChange}\r\n                                        value={this.state.username}\r\n                                        placeholder=\"请输入电话号码\"\r\n                                        validators={['required', 'matchRegexp:^[0-9a-zA-Z]{6,12}$']}\r\n                                        errorMessages={['*用户名是必填项！', '*请输入6-12个字符！']}\r\n                                    ></TextValidator>\r\n                                </div>\r\n                                <div className=\"input-group grey-border\">\r\n                                    <img src={ICON_LOCK} alt=\"用户名\" />\r\n                                    <TextValidator\r\n                                        type=\"password\"\r\n                                        name=\"password\"\r\n                                        onChange={this.handlerChange}\r\n                                        value={this.state.password}\r\n                                        placeholder=\"请输入密码\"\r\n                                        validators={['required', 'matchRegexp:^[0-9a-zA-Z.]{6,20}$']}\r\n                                        errorMessages={['*密码是必填项！', '*请输入6-20']}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"code-group input-group\">\r\n                                    <TextValidator\r\n                                        name=\"code\"\r\n                                        onChange={this.handlerChange}\r\n                                        value={this.state.code}\r\n                                        type=\"text\"\r\n                                        placeholder=\"请输入验证码\"\r\n                                        className=\"code\"\r\n                                        validators={['required', 'matchRegexp:^[0-9a-zA-Z]{5}$']}\r\n                                        errorMessages={['*验证码是必填项！', '*请输入5个字符验证码！']}\r\n                                    />\r\n                                    <div className=\"img-code\">\r\n                                        <img onClick={e => this.changeCode(e)} src=\"/api/code\" alt=\"\" />\r\n                                    </div>\r\n                                </div>\r\n                                <button className=\"login-btn-grop\">登录 </button>\r\n                                <div className=\"link-group\">忘记密码? </div>\r\n                            </ValidatorForm>\r\n\r\n                            <div className=\"login-aside\">\r\n                                <p>还没注册？</p>\r\n                                <p className=\"active\">立即注册>></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"main-ft\">\r\n                    &copy;版权所有 aicoder.com 2016-2019\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login","// 路由权限如果没有权限就不显示对应菜单的内容\r\nimport React, { Component, Fragment } from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport { getLoginUserAllPer } from '../../Common/Auth'\r\n\r\n\r\nexport default class AuthRoute extends Component {\r\n    state = {\r\n        authorized: false\r\n    }\r\n    // 组件加载完成 \r\n    componentDidMount() {\r\n        this.getLoginUserAllPer()\r\n\r\n    }\r\n    getLoginUserAllPer() {\r\n        // 判断当前传来的属性是谁，然后判断当前登录用户是否拥有此路由的权限\r\n        // 如果有权限，返回route对象\r\n        // 没有权限返回 没有权限\r\n        // per属性是当前路由对应的权限数据的id\r\n        // this.props.per\r\n        // 拿到当前登录用户的所有的权限\r\n        getLoginUserAllPer().then(res => {\r\n            let authorized = res.findIndex(per => per.id === this.props.per) > 0\r\n            this.setState({ authorized })\r\n        })\r\n    }\r\n    UNSAFE_componentWillReceiveProps() {\r\n        this.getLoginUserAllPer()\r\n    }\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                {\r\n                    this.state.authorized ?\r\n                        <Route {...this.props}></Route> :\r\n                        <Route path={this.props.path} render={() =>\r\n                            <h3>没有权限</h3>\r\n                        } />\r\n                }\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n","// 动态菜单 \r\nimport React, { Component } from 'react'\r\nimport { Menu, Icon } from 'antd';\r\nimport {  getLoginUserAllPer } from '../../Common/Auth'\r\nconst { SubMenu } = Menu;\r\nexport default class MenuBar extends Component {\r\n    state = {\r\n        current: 'user_mgr',\r\n        perMenu: []   // 所有当前用户拥有的菜单类型的权限\r\n    }\r\n    componentDidMount() {\r\n        // 加载当前用户登录的所有权限\r\n        getLoginUserAllPer().then(res => {\r\n            this.setState({ perMenu: res.filter(m => m.type === 'menu') })\r\n        })\r\n    }\r\n    handleMenuClick = (e) => {\r\n        // 动态菜单跳转\r\n        let url = this.state.perMenu.find(item => item.id == e.key).url;\r\n        this.props.history.push(url)\r\n        this.setState({ current: e.key })\r\n    }\r\n    render() {\r\n        let rootMenu = this.state.perMenu.filter(m => m.pId == 0);//获取一级菜单 \r\n        return (\r\n            <div className=\"aside-menu-bar\">\r\n                <Menu\r\n                    onClick={this.handleMenuClick}\r\n                    selectedKeys={[this.state.current]}\r\n                    mode='inline'\r\n                >\r\n                    {\r\n                        rootMenu.map(rootM => {\r\n\r\n                            // 子菜单 匹配父级PId与子菜单id是匹配\r\n                            let childMenus = this.state.perMenu.filter(m => m.pId == rootM.id)\r\n                            // 菜单排序\r\n                            childMenus.sort((a, b) => a.order - b.order)\r\n\r\n                            return (\r\n                                <SubMenu\r\n                                    key={rootM.id}\r\n                                    title={\r\n                                        <span>\r\n                                            <Icon type=\"pie-chart\" />\r\n                                            {rootM.des}\r\n                                        </span>\r\n                                    }\r\n                                >\r\n                                    {\r\n                                        childMenus.map(childM => {\r\n                                            return (\r\n                                                <Menu.Item key={childM.id}>\r\n                                                    <Icon type=\"codepen-circle\" />\r\n                                                    {childM.des}\r\n                                                </Menu.Item>\r\n\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </SubMenu>\r\n                            )\r\n                        })\r\n                    }\r\n                </Menu>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","// Fragments 可以让你聚合一个子元素列表，并且不在DOM中增加额外节点。\r\nimport { Icon, Modal } from 'antd';\r\nimport React, { Component, Fragment } from 'react';\r\nimport { GetLoginUserInfo, Logout } from '../../Common/Auth'\r\nimport './top.scss'\r\nexport default class Top extends Component {\r\n   state = { loginUser: GetLoginUserInfo() }\r\nhandlerLogout = () => {\r\n    let { history } = this.props;\r\n    Modal.confirm({\r\n        title: '提示',\r\n        content: '确认退出吗?',\r\n        onOk() {\r\n            Logout()//清楚用户消息\r\n            history.push('/login')\r\n        }\r\n    });\r\n\r\n}\r\nrender() {\r\n    return (\r\n        <Fragment>\r\n            <div className=\"logo-wrap components-top\">\r\n                <a href=\"/\">\r\n                    <h1 style={{ color: '#fff', fontSize: '30px' }}>\r\n                        <Icon type=\"slack\" />\r\n                        安心账后台管理系统\r\n                        </h1>\r\n                </a>\r\n            </div>\r\n            <div className=\"user-wrap components-top\">\r\n                <div className=\"btn-group\">\r\n                    <Icon type=\"user\" />\r\n                    <span>{this.state.loginUser && this.state.loginUser.username}</span>\r\n\r\n                </div>\r\n                <div className=\"btn-group\" onClick={this.handlerLogout}>\r\n                    <Icon type=\"logout\" />\r\n                    登出\r\n                    </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n}\r\n","export default {\r\n    LOAD_USER_LIST: 'LOAD_USER_LIST',\r\n    ADD_USER: 'ADD_USER',\r\n    EIDT_USER: 'EIDT_USER',\r\n    LOAD_PER_LIST: 'LOAD_PER_LIST',\r\n    ADD_PER: \"ADD_PER\",\r\n    EDIT_PER: \"EDIT_PER\",\r\n    DEL_PER: 'DEL_PER'\r\n}","import React, { Component } from 'react'\r\nimport {\r\n    Form,\r\n    Input,\r\n    Icon,\r\n    Select\r\n} from 'antd';\r\nconst { Option } = Select;\r\n\r\n\r\nexport default class AddPerFrom extends Component {\r\n    componentDidMount() {\r\n        // 设置tab的初始值 \r\n        this.props.form.setFieldsValue({ 'pId': 0,\"type\":\"menu\" ,\"order\":\"1\"})\r\n    }\r\n    render() {\r\n        // 获取整个表单\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Form layout=\"horizontal\"\r\n                labelCol={{ span: 4 }}\r\n                wrapperCol={{ span: 20 }}\r\n            >\r\n                <Form.Item label=\"权限名\">\r\n                    {getFieldDecorator('des', {\r\n                        rules: [\r\n                            {\r\n                                min: 2,\r\n                                max: 20,\r\n                                message: '请输入2-20个字符',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入权限名',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\" ></Icon>}\r\n                        placeholder=\"权限名\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"权限类型\">\r\n                    {getFieldDecorator('type', {\r\n                        rules: [\r\n                            {\r\n                                required: true,\r\n                                message: '请输入权限类型',\r\n                            },\r\n\r\n                        ],\r\n                    })(<Select>\r\n                        <Option value=\"menu\">菜单权限</Option>\r\n                        <Option value=\"action\">请求权限</Option>\r\n                        <Option value=\"router\">路由权限</Option>\r\n                        <Option value=\"resource\">资源权限</Option>\r\n                        <Option value=\"component\">组件权限</Option>\r\n                    </Select>)}\r\n                </Form.Item>\r\n                <Form.Item label=\"权限码\">\r\n                    {getFieldDecorator('code', {\r\n                        rules: [\r\n                            {\r\n                                min: 2,\r\n                                max: 20,\r\n                                message: '请输入2-20个字符!',\r\n                            }\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\"></Icon>}\r\n                        placeholder=\"权限码\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"父权限\">\r\n                    {getFieldDecorator('pId', {\r\n                        rules: [\r\n                            {\r\n                                required: true,\r\n                                message: '请输入父权限!',\r\n                            }\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\"></Icon>}\r\n                        placeholder=\"父权限\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"地址\">\r\n                    {getFieldDecorator('url')(\r\n                        <Input prefix={<Icon type=\"mail\"></Icon>}\r\n                            placeholder=\"地址\"\r\n                        />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"排序\">\r\n                    {getFieldDecorator('order')(\r\n                        <Input prefix={<Icon type=\"mail\"></Icon>}\r\n                            placeholder=\"排序\"\r\n                        />\r\n                    )}\r\n                </Form.Item>\r\n            </Form>\r\n\r\n        )\r\n    }\r\n}\r\n","/**\r\n *   添加权限\r\n */\r\n\r\nimport React, { Component } from 'react'\r\nimport { Modal, Form, message } from 'antd';\r\nimport AddPerFrom from './AddPerFrom'\r\nimport { formateDate2String } from '../../../Common/Helper'\r\nimport { GetLoginUserInfo } from '../../../Common/Auth'\r\nconst AddPerFromComponent = Form.create({ name: 'addPer_from' })(AddPerFrom)\r\n\r\nexport default class AddPer extends Component {\r\n    // from用户输入的值 \r\n    perAddFrm = null;\r\n    // 添加\r\n    handleAddPer = () => {\r\n        //获取表单数据perAddFrm\r\n        this.perAddFrm.validateFields((err, data) => {\r\n            if (err) return message.error('添加失败');\r\n            // 调用父级的axios方法\r\n            let newPer = Object.assign({\r\n                id: Date.now(),\r\n                del: 0,\r\n                status: 0,\r\n                subon: formateDate2String(new Date()),\r\n                subby: GetLoginUserInfo().id\r\n            }, data)\r\n            this.props.addPer(newPer).then(res => {\r\n                message.info('添加成功')\r\n                this.props.close()\r\n                this.props.loadData()\r\n            }).catch(err => {\r\n                console.log(err);\r\n                message.error(`添加失败`)\r\n            })\r\n\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <Modal\r\n                title='添加权限信息'\r\n                visible={this.props.visible}\r\n                onOk={this.handleAddPer}\r\n                cancelText=\"取消\"\r\n                okText=\"添加\"\r\n                onCancel={() => this.props.close()}\r\n                destroyOnClose\r\n            >\r\n                {/* 引入子组件 */}\r\n                < AddPerFromComponent ref={frm => this.perAddFrm = frm} />\r\n            </Modal >\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n    Form,\r\n    Input,\r\n    Icon,\r\n    Select\r\n} from 'antd';\r\nconst { Option } = Select;\r\n\r\nexport default class EditPerFrom extends Component {\r\n    componentDidMount() {\r\n        let { data } = this.props;\r\n        this.props.form.setFieldsValue({\r\n            pId: data.pId,\r\n            type: data.type,\r\n            order: data.order,\r\n            des: data.des,\r\n            code: data.code,\r\n            url: data.url,\r\n        })\r\n    }\r\n    render() {\r\n        // 获取整个表单\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Form layout=\"horizontal\"\r\n                labelCol={{ span: 4 }}\r\n                wrapperCol={{ span: 20 }}\r\n            >\r\n                <Form.Item label=\"权限名\">\r\n                    {getFieldDecorator('des', {\r\n                        rules: [\r\n                            {\r\n                                min: 2,\r\n                                max: 20,\r\n                                message: '请输入2-20个字符',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入权限名',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\" ></Icon>}\r\n                        placeholder=\"权限名\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"权限类型\">\r\n                    {getFieldDecorator('type', {\r\n                        rules: [\r\n                            {\r\n                                required: true,\r\n                                message: '请输入权限类型',\r\n                            },\r\n\r\n                        ],\r\n                    })(<Select>\r\n                        <Option value=\"menu\">菜单权限</Option>\r\n                        <Option value=\"action\">请求权限</Option>\r\n                        <Option value=\"router\">路由权限</Option>\r\n                        <Option value=\"resource\">资源权限</Option>\r\n                        <Option value=\"component\">组件权限</Option>\r\n                    </Select>)}\r\n                </Form.Item>\r\n                <Form.Item label=\"权限码\">\r\n                    {getFieldDecorator('code', {\r\n                        rules: [\r\n                            {\r\n                                min: 2,\r\n                                max: 20,\r\n                                message: '请输入2-20个字符!',\r\n                            }\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\"></Icon>}\r\n                        placeholder=\"权限码\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"父权限\">\r\n                    {getFieldDecorator('pId', {\r\n                        rules: [\r\n                            {\r\n                                required: true,\r\n                                message: '请输入父权限!',\r\n                            }\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\"></Icon>}\r\n                        placeholder=\"父权限\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"地址\">\r\n                    {getFieldDecorator('url')(\r\n                        <Input prefix={<Icon type=\"mail\"></Icon>}\r\n                            placeholder=\"地址\"\r\n                        />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"排序\">\r\n                    {getFieldDecorator('order')(\r\n                        <Input prefix={<Icon type=\"mail\"></Icon>}\r\n                            placeholder=\"排序\"\r\n                        />\r\n                    )}\r\n                </Form.Item>\r\n            </Form>\r\n\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Modal, Form, message } from 'antd';\r\nimport EditPerFrom from './EditPerFrom.js'\r\nconst EditPerFromComponent = Form.create({ name: 'edit_from' })(EditPerFrom)\r\n\r\nexport default class EditPer extends Component {\r\n    editFrm = null;\r\n    // 保存修改事件,获取form中的数据 ,并提交\r\n    handleEditPer = () => {\r\n        this.editFrm.validateFields((err, val) => {\r\n            if (err) return;\r\n            // 获取父级提交表单方法,所修改的和没修改的值一并传入\r\n            this.props.editPer(Object.assign({}, this.props.data, val)).then(res => {\r\n                message.info('修改成功')\r\n                this.props.close()\r\n            }).catch(err => {\r\n                console.log(err);\r\n                message.error('修改失败')\r\n\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal\r\n                    title='修改权限信息'\r\n                    visible={this.props.visible}\r\n                    okText=\"修改\"\r\n                    cancelText='取消'\r\n                    onCancel={() => { this.props.close() }}\r\n                    onOk={this.handleEditPer}\r\n                    destroyOnClose\r\n                >\r\n                    <EditPerFromComponent\r\n                        ref={frm => this.editFrm = frm}\r\n                        data={this.props.data}\r\n                    />\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","// 权限管理,使用redux结合开 发\r\nimport React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom';\r\nimport { LoadDataAsync, AddPerAsync, AditPerAsync, DeletePerAsync } from '../../../Action/PerAction'\r\nimport AddPer from './AddPer'\r\nimport EditPer from './EditPer'\r\nimport { Breadcrumb, Button, Input, Table, Popconfirm, message, Modal } from 'antd';\r\nconst { Search } = Input;\r\n\r\n\r\nexport class PerMgr extends Component {\r\n    state = {\r\n        showAddPerDialog: false,\r\n        showEditPerDialog: false,\r\n        editPer: null,//修改的数据\r\n        selectedRowKeys: [],\r\n        params: {\r\n            _page: 1,\r\n            _limit: 6,\r\n            q: '',\r\n            _sort: 'id',\r\n            _order: 'desc',\r\n\r\n        },\r\n        columns: [\r\n            {\r\n                dataIndex: 'id',\r\n                title: '编号'\r\n            }, {\r\n                dataIndex: 'type',\r\n                title: '权限类型'\r\n            }, {\r\n                dataIndex: 'des',\r\n                title: '权限描述'\r\n            },\r\n            {\r\n                dataIndex: 'url',\r\n                title: '地址'\r\n            }, {\r\n                dataIndex: 'pId',\r\n                title: '父权限'\r\n            }, {\r\n                dataIndex: 'order',\r\n                title: '排序'\r\n            }, {\r\n                dataIndex: 'del',\r\n                title: '编辑',\r\n                render: (del, row) => {\r\n                    return (\r\n                        <div>\r\n                            <Button onClick={() => this.showEditPer(row)} style={{ marginRight: '5px' }} type=\"primary\">编辑</Button>\r\n                            <Popconfirm\r\n                                title=\"您是否真要删除吗？\"\r\n                                okText=\"确认\"\r\n                                cancelText=\"取消\"\r\n                                onConfirm={() => {\r\n                                    this.deletePerIds([row.id])\r\n                                }}\r\n                            >\r\n                                <Button type=\"danger\">删除</Button>\r\n                            </Popconfirm>\r\n                        </div>\r\n                    );\r\n                }\r\n            }\r\n        ],\r\n    }\r\n    buttonStyle = {\r\n        margin: \"5px\"\r\n    }\r\n    // 调用数据\r\n    loadData = () => {\r\n        //从redux中提取\r\n        this.props.loadDataAsync(this.state.params)\r\n    }\r\n    // bar添加事件\r\n    handleAdd = () => {\r\n        this.setState({\r\n            showAddPerDialog: true,\r\n        })\r\n    }\r\n    // 关闭添加权限对话框\r\n    closeAddPerDialog = () => {\r\n        this.setState({\r\n            showAddPerDialog: false\r\n        })\r\n    }\r\n    closeEditPerDialog = () => {\r\n        this.setState({\r\n            showEditPerDialog: false\r\n        })\r\n    }\r\n    // bar删除\r\n    handleDelete = () => {\r\n        if (this.state.selectedRowKeys.length <= 0) {\r\n            message.error('请选择数据进行删除!');\r\n            return;\r\n        }\r\n        Modal.confirm({\r\n            title: '确认要删除吗？',\r\n            okText: '确认',\r\n            cancelText: '取消',\r\n            onOk: () => {\r\n                this.deletePerIds(this.state.selectedRowKeys);\r\n            }\r\n        })\r\n    }\r\n    // table删除\r\n    deletePerIds = (ids) => {\r\n        this.props.submitDeletePer(ids).then(res => {\r\n            message.info('删除成功！');\r\n            let arr = this.state.selectedRowKeys;\r\n            let newArr = arr.filter(item => !ids.includes(item))///ɪnk'luːdz/把没有匹配上的id返回出去\r\n            this.setState({ selectedRowKeys: newArr })\r\n            let perList = this.props.perList.filter(v => !ids.includes(v.id))\r\n            let page = this.state.params._page\r\n            if (perList.length === 0 && page > 1) {\r\n                this.changePage((page - 1), this.state.params._limit)\r\n            } else {\r\n                this.loadData();\r\n            }\r\n\r\n        })\r\n            .catch(err => {\r\n                console.log(err);\r\n                message.error('删除失败！');\r\n            })\r\n    }\r\n    // bar编辑\r\n    handleBarEdit = () => {\r\n        if (this.state.selectedRowKeys.length !== 1) return message.error('选中一条数据进行修改!')\r\n        let editPerId = this.state.selectedRowKeys[0]\r\n        let editRow = this.props.perList.find(item => item.id === editPerId)\r\n        this.showEditPer(editRow)\r\n    }\r\n    // bar 搜索\r\n    handleSearch = (val) => {\r\n        this.setState(preState => {\r\n            let newState = { ...preState }\r\n            newState.params.q = val;\r\n            return preState;\r\n        }, () => {\r\n            this.loadData();\r\n        })\r\n    }\r\n\r\n    // tab 编辑\r\n    showEditPer = (row) => {\r\n        this.setState({\r\n            showEditPerDialog: true,\r\n            editPer: row\r\n        })\r\n    }\r\n    // 分页\r\n    changePage = (page, pageSize) => {\r\n        this.setState(preState => {\r\n            let params = { ...preState.params }\r\n            params._page = page;\r\n            params._limit = pageSize;\r\n            return Object.assign({}, preState, { params })\r\n            // preState.params._page = page;\r\n            // preState.params._limit = pageSize;\r\n            // return { ...preState }\r\n        }, () => {\r\n            this.loadData()\r\n        })\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadData()\r\n    }\r\n    render() {\r\n        let { selectedRowKeys } = this.state;\r\n        // tab复选框选择进行触发\r\n        let userRowSelection = {\r\n            selectedRowKeys: selectedRowKeys,\r\n            onChange: (selectedRowKeys) => {\r\n                // 获取ID\r\n                this.setState({ selectedRowKeys: selectedRowKeys })\r\n\r\n            }\r\n        }\r\n        return (\r\n            <div>\r\n                <Breadcrumb>\r\n                    <Breadcrumb.Item>\r\n                        <Link to=\"/home\">首页</Link>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        <Link to=\"/home/user_mgr\">权限管理</Link>\r\n                    </Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <hr />\r\n                <Button\r\n                    style={this.buttonStyle}\r\n                    type=\"primary\"\r\n                    onClick={this.handleAdd}\r\n                >添加</Button>\r\n                <Button style={this.buttonStyle} type=\"primary\" onClick={this.handleBarEdit} >编辑</Button>\r\n                <Button style={this.buttonStyle} type=\"danger\" onClick={this.handleDelete}>删除</Button>\r\n                <Search placeholder=\"搜索\" enterButton\r\n                    style={{ 'width': '300px', margin: \"5px\" }}\r\n                    onSearch={this.handleSearch}\r\n                />\r\n                <Table\r\n                    style={{ 'background': '#fefefe' }}\r\n                    dataSource={this.props.perList}\r\n                    columns={this.state.columns}\r\n                    rowKey=\"id\"\r\n                    bordered\r\n                    rowSelection={userRowSelection}\r\n                    pagination={{\r\n                        total: this.props.total,\r\n                        pageSize: 6,\r\n                        defaultCurrent: 1,\r\n                        onChange: this.changePage,\r\n\r\n                    }}\r\n\r\n                />\r\n                <AddPer\r\n                    visible={this.state.showAddPerDialog}\r\n                    close={this.closeAddPerDialog}\r\n                    addPer={this.props.addPer}\r\n                    loadData={this.loadData}\r\n                />\r\n                <EditPer\r\n                    visible={this.state.showEditPerDialog}\r\n                    close={this.closeEditPerDialog}\r\n                    data={this.state.editPer}\r\n                    editPer={this.props.editPer}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n// 状态属性分发到组件中\r\nconst mapStateToProps = (state) => ({\r\n    total: state.PerList.total,\r\n    perList: state.PerList.list\r\n})\r\n// disptch方法分发到组件中\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        loadDataAsync: (params) => {\r\n            dispatch(LoadDataAsync(params))\r\n        },\r\n        addPer: (per) => {\r\n            return dispatch(AddPerAsync(per))\r\n        },\r\n        editPer: (per) => {\r\n            return dispatch(AditPerAsync(per))\r\n        },\r\n        submitDeletePer: (ids) => {\r\n            return dispatch(DeletePerAsync(ids))\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PerMgr)\r\n\r\n\r\n\r\n","import ActionTyps from './ActionTyps'\r\nimport service from '../Service'\r\n// 列表数据\r\nexport const LoadDataAsync = (params) => (dispatch) => {\r\n    return service.loadPerList(params).then(res => {\r\n        let total = parseInt(res.headers['x-total-count'])\r\n        dispatch({\r\n            type: ActionTyps.LOAD_PER_LIST,\r\n            payload: {\r\n                list: res.data,\r\n                total: total\r\n            }\r\n        })\r\n    })\r\n\r\n}\r\n// 添加表单数据\r\nexport const AddPerAsync = (params) => (dispatch) => {\r\n    return service.addPer(params).then(res => {\r\n        dispatch({\r\n            type: ActionTyps.ADD_PER,\r\n            payload: res.data\r\n        })\r\n    })\r\n}\r\n// 修改表单数据\r\nexport const AditPerAsync = (params) => (dispatch) => {\r\n    return service.editPer(params).then(res => {\r\n        dispatch({\r\n            type: ActionTyps.EDIT_PER,\r\n            payload: res.data\r\n\r\n        })\r\n    })\r\n}\r\n// 修改table数据\r\nexport const DeletePerAsync = (ids) => (dispatch) => {\r\n    return service.deletePer(ids).then(res => {\r\n        dispatch({\r\n            type: ActionTyps.DEL_PER,\r\n            payload: res\r\n        })\r\n    })\r\n}","import React, { Component } from 'react'\r\nimport {\r\n    Form,\r\n    Input,\r\n    Icon,\r\n} from 'antd';\r\n\r\nexport default class AddRoleFrom extends Component {\r\n    componentDidMount() {\r\n        // 设置父角色的初始值 \r\n        this.props.form.setFieldsValue({ 'pId': 0 })\r\n    }\r\n    render() {\r\n        // 获取整个表单\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Form layout=\"horizontal\"\r\n                labelCol={{ span: 4 }}\r\n                wrapperCol={{ span: 20 }}\r\n            >\r\n                <Form.Item label=\"角色名\">\r\n                    {getFieldDecorator('name', {\r\n                        rules: [\r\n                            {\r\n                                min: 2,\r\n                                max: 20,\r\n                                message: '请输入2-20个字符',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入角色名',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\" ></Icon>}\r\n                        placeholder=\"角色名\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"角色描述\">\r\n                    {getFieldDecorator('des', {\r\n                        rules: [\r\n                            {\r\n                                pattern: /\\w{2,20}/gi,\r\n                                message: '请输入角色描述',\r\n                            },\r\n\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"setting\"></Icon>}\r\n                        placeholder=\"角色描述\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"父角色\">\r\n                    {getFieldDecorator('pId', {\r\n                        rules: [\r\n                            {\r\n                                required: true,\r\n                                message: '请输入父角色',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\"></Icon>}\r\n                        placeholder=\"父角色\"\r\n                    />)}\r\n                </Form.Item>\r\n            </Form>\r\n\r\n        )\r\n    }\r\n}\r\n","/**\r\n *   添加角色\r\n */\r\n\r\nimport React, { Component } from 'react'\r\nimport { Modal, Form, message } from 'antd';\r\nimport AddRoleFrom from './AddRoleFrom'\r\nconst AddRoleFromComponent = Form.create({ name: 'addRole_from' })(AddRoleFrom)\r\n\r\nexport default class AddRole extends Component {\r\n    state = {\r\n        confirmLoading: false\r\n    }\r\n    // from用户输入的值 \r\n    userAddFrm = null;\r\n    // 添加\r\n    handleAddRole = () => {\r\n        // 校验方法\r\n        this.userAddFrm.validateFields((err, data) => {\r\n            if (err) return message.error('添加失败');\r\n            // 调用父级的axios方法\r\n            this.props.addRole(data)\r\n\r\n        })\r\n    }\r\n    // 重轩表单方法\r\n    hanldeCloseModal = () => {\r\n        this.props.close()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal\r\n                title='添加角色信息'\r\n                visible={this.props.visible}\r\n                onOk={this.handleAddRole}\r\n                confirmLoading={this.state.confirmLoading}\r\n                cancelText=\"取消\"\r\n                okText=\"添加\"\r\n                onCancel={this.hanldeCloseModal}\r\n                destroyOnClose\r\n            >\r\n                {/* 引入子组件 */}\r\n                < AddRoleFromComponent ref={frm => this.userAddFrm = frm} />\r\n            </Modal >\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n    Form,\r\n    Input,\r\n    Icon,\r\n} from 'antd';\r\n\r\nexport default class EditRoleFrom extends Component {\r\n    componentDidMount() {\r\n        let role = this.props.data;\r\n        this.props.form.setFieldsValue({\r\n            'pId': role.pId,\r\n            \"name\": role.name,\r\n            \"des\": role.des\r\n        })\r\n    }\r\n    render() {\r\n        // 获取整个表单\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Form layout=\"horizontal\"\r\n                labelCol={{ span: 4 }}\r\n                wrapperCol={{ span: 20 }}\r\n            >\r\n                <Form.Item label=\"角色名\">\r\n                    {getFieldDecorator('name', {\r\n                        rules: [\r\n                            {\r\n                                min: 2,\r\n                                max: 20,\r\n                                message: '请输入2-20个字符',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入角色名',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\" ></Icon>}\r\n                        placeholder=\"角色名\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"角色描述\">\r\n                    {getFieldDecorator('des', {\r\n                        rules: [\r\n                            {\r\n                                pattern: /\\w{2,20}/gi,\r\n                                message: '请输入角色描述',\r\n                            },\r\n\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"setting\"></Icon>}\r\n                        placeholder=\"角色描述\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"父角色\">\r\n                    {getFieldDecorator('pId', {\r\n                        rules: [\r\n                            {\r\n                                required: true,\r\n                                message: '请输入父角色',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\"></Icon>}\r\n                        placeholder=\"父角色\"\r\n                    />)}\r\n                </Form.Item>\r\n            </Form>\r\n\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Modal, Form } from 'antd';\r\nimport EditRoleFrom from './EditRoleFrom'\r\nconst EditRoleFromComponent = Form.create({ name: 'edit_from' })(EditRoleFrom)\r\n\r\nexport default class EditRole extends Component {\r\n    editFrm = null;\r\n    // 保存修改事件,获取form中的数据 ,并提交\r\n    handleEditRole = () => {\r\n        this.editFrm.validateFields((err, val) => {\r\n            if (err) return;\r\n            // 获取父级提交表单方法,所修改的和没修改的值一并传入\r\n            this.props.saveRole(Object.assign({}, this.props.data, val))\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal\r\n                    title='添加角色信息'\r\n                    visible={this.props.visible}\r\n                    okText=\"修改\"\r\n                    cancelText='取消'\r\n                    onCancel={() => { this.props.close() }}\r\n                    onOk={this.handleEditRole}\r\n                    destroyOnClose\r\n                >\r\n                    <EditRoleFromComponent\r\n                        ref={frm => this.editFrm = frm}\r\n                        data={this.props.data}\r\n                    />\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Row, Col, Checkbox, message } from 'antd'\r\nimport { blue } from '@ant-design/colors';\r\nimport Service from '../../../Service'\r\nimport { formateDate2String } from '../../../Common/Helper'\r\n\r\n\r\nexport default class SetRolePer extends Component {\r\n    state = {\r\n        allPer: [],//所有用户权限数据\r\n        rolePer: [],//用户已关联的数据 \r\n        allCheckedPer: [],//最终用户选中的权限\r\n    }\r\n    async componentDidMount() {\r\n        // 加载所有权限数据\r\n        let allPer = await Service.loadAllPer().then(res => res.data)\r\n        //用户已关联的数据 \r\n        let rolePer = await Service.loadRolePer(this.props.data.id).then(res => res.data)\r\n        //    已被选中的数据\r\n        let allCheckedPer = []\r\n        // 匹配用户已有的数据进行推入选中权限中\r\n        rolePer.forEach(rolePer => {\r\n            let per = allPer.find(per => per.id === rolePer.permissionId);\r\n            if (per) allCheckedPer.push(per)\r\n        })\r\n        // 当上面所有请求完数据,更新状态\r\n        this.setState({ allPer, rolePer, allCheckedPer })\r\n    }\r\n    // 点击复选框触发\r\n    handleChangeChecked = (per, e) => {\r\n        // 拷贝生成新的数组,在react中不能直接修改\r\n        let allCheckedPer = [...this.state.allCheckedPer]\r\n        // 选中;\r\n        if (e.target.checked) {\r\n            allCheckedPer.push(per)\r\n        } else {\r\n            // 取消选中\r\n            allCheckedPer = allCheckedPer.filter(item => item.id !== per.id)\r\n        }\r\n        this.setState({ allCheckedPer })\r\n\r\n    }\r\n    //把allCheckedPer值传入父级\r\n    handleSubmitSetPer = () => {\r\n        let { allCheckedPer, rolePer } = this.state;\r\n        let promiseArr = []\r\n        // 添加的数据\r\n        promiseArr.push(\r\n            allCheckedPer.forEach((per, index) => {\r\n                if (rolePer.findIndex(rp => rp.permissionId === per.id) < 0) {\r\n                    Service.addRolePer({\r\n                        id: Date.now() + index,\r\n                        del: 0,\r\n                        subon: formateDate2String(new Date()),\r\n                        permissionId: per.id,\r\n                        roleId: this.props.data.id\r\n                    })\r\n                }\r\n            })\r\n        )\r\n\r\n        // 删除的数据,如果用户本身已有的值不在allcheckedPer集合用就是删除\r\n        rolePer.forEach(rp => {\r\n            if (allCheckedPer.findIndex(per => per.id === rp.permissionId) < 0) {\r\n                // 删除 \r\n                promiseArr.push(Service.deleteRolePer(rp.id))\r\n            }\r\n        })\r\n        Promise.all(promiseArr).then(res => {\r\n            message.success('设置成功')\r\n            this.props.close()\r\n        }).catch(err => {\r\n            console.log('err', err);\r\n            message.error('设置失败')\r\n        })\r\n\r\n    }\r\n    render() {\r\n        let { rolePer, allPer } = this.state;\r\n        return (\r\n            <div>\r\n\r\n                <h3>给角色: <span style={{ 'color': blue[5] }}>{this.props.data.name} </span>设置角色权限</h3>\r\n                <hr />\r\n                <Row gutter={16}>\r\n                    {\r\n                        //allPer 所有用户权限数据\r\n                        allPer.map(per => {\r\n                            let checked = false;\r\n                            // 判断用户已有权限是否在所有权限当中,如果index>-1就是有值返回并进行勾选\r\n                            let index = rolePer.findIndex(rp => rp.permissionId === per.id)\r\n                            checked = index >= 0;\r\n                            return (\r\n                                <Col span={8} key={per.id}>\r\n                                    {/* defaultChecked/初始是否选中 */}\r\n                                    <Checkbox onChange={(e) => { this.handleChangeChecked(per, e) }} defaultChecked={checked}>{per.des}</Checkbox>\r\n                                </Col>\r\n\r\n                            )\r\n                        })\r\n                    }\r\n\r\n                </Row>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Breadcrumb, Button, Input, Table, Modal, message, Popconfirm } from 'antd';\r\nimport service from '../../../Service';\r\nimport AddRole from './AddRole'\r\nimport EditRole from './EditRole'\r\nimport SetRolePer from './SetRolePer'\r\nimport { formateDate2String } from '../../../Common/Helper'\r\nconst { Search } = Input;\r\nexport default class RoleMgr extends Component {\r\n    state = {\r\n        params: {\r\n            _page: 1,\r\n            _limit: 6,\r\n            q: '',\r\n            _sort: 'id',\r\n            _order: 'desc',\r\n        },\r\n        total: 0,\r\n        rolelist: [],\r\n        columns: [\r\n            {\r\n                dataIndex: 'id',\r\n                title: '编号'\r\n            }, {\r\n                dataIndex: 'name',\r\n                title: '角色名'\r\n            }, {\r\n                dataIndex: 'status',\r\n                title: '状态',\r\n                render: (status, row) => <span>{status === 0 ? '启用' : '禁用'}</span>\r\n            }, {\r\n                dataIndex: 'subon',\r\n                title: '提交时间'\r\n            }, {\r\n                dataIndex: 'pId',\r\n                title: '父角色'\r\n            },\r\n            {\r\n                key: 'del',\r\n                title: '操作',\r\n                render: (del, row) => {\r\n                    return (\r\n                        <div>\r\n                            <Button type=\"primary\" style={{ \"marginRight\": \"5px\" }}\r\n                                onClick={() => { this.handleEdit(row) }}\r\n                            >编辑</Button>\r\n                            <Popconfirm\r\n                                title=\"确定删除?\"\r\n                                onConfirm={() => {\r\n                                    this.handleRoleDelte(row.id)\r\n                                }}\r\n                                okText=\"确定\"\r\n                                cancelText=\"取消\"\r\n                            >\r\n                                <Button type=\"danger\"> 删除</Button>\r\n                            </Popconfirm>\r\n                        </div>\r\n                    )\r\n                }\r\n            },\r\n        ],\r\n        // 多选框\r\n        selectedRowKeys: [],\r\n        showAddRoleDialog: false,\r\n        showEditRoleDialog: false,\r\n        showSetRolePerDialog: false,\r\n        setRolePer: null,//设置权限的当前数据 \r\n    }\r\n    // 加载数据方法\r\n    loadData = () => {\r\n        return service.loadRoleList(this.state.params).then(res => {\r\n            this.setState({\r\n                rolelist: res.data,\r\n                total: parseInt(res.headers['x-total-count'])\r\n            })\r\n        })\r\n    }\r\n    componentDidMount() {\r\n        this.loadData()\r\n    }\r\n    // 分页\r\n    changePage = (page, pageSize) => {\r\n        this.setState(preState => {\r\n            preState.params._page = page;\r\n            preState.params._limit = pageSize;\r\n            return { ...preState }\r\n        }, () => {\r\n            this.loadData()\r\n        })\r\n\r\n    }\r\n    // 搜索\r\n    handleSearch = (value) => {\r\n        this.setState(preState => {\r\n            // 方法一\r\n            preState.params.q = value\r\n            return { ...preState }\r\n            // 方法二\r\n            //生成一个新的对象\r\n            // let params = { ...preState.params }\r\n            // params.q = value;\r\n            // // 返回一个新的prestate\r\n            // return Object.assign({},preState,{params})\r\n        }, () => {\r\n            this.loadData()\r\n        })\r\n\r\n    }\r\n    // table中编辑\r\n    handleEdit = (row) => {\r\n        // console.log(row);\r\n        // 赋值\r\n        this.setState({\r\n            showEditRoleDialog: true,\r\n            editRole: row\r\n        })\r\n    }\r\n    // Bar中编辑\r\n    handleBarEdit = () => {\r\n        if (this.state.selectedRowKeys.length !== 1) return message.error('请选中一条数据进行编辑!')\r\n        //    匹配当前选中的数据,并返回当前数据\r\n        let editRol = this.state.rolelist.find(item => item.id === this.state.selectedRowKeys[0])\r\n        if (editRol) this.handleEdit(editRol)\r\n    }\r\n    // 关闭修改对话框\r\n    cloeEditDialog = () => {\r\n        this.setState({\r\n            showEditRoleDialog: false,\r\n        })\r\n    }\r\n    // 修改保存对话框\r\n    saveRole = (role) => {\r\n        service.saveRole(role).then(res => {\r\n            this.cloeEditDialog()\r\n            this.loadData()\r\n            message.info('修改成功')\r\n        }).catch(err => {\r\n            message.error('修改失败')\r\n            console.log(err);\r\n\r\n        })\r\n    }\r\n    //  批量删除\r\n    handleDelte = () => {\r\n        if (this.state.selectedRowKeys.length <= 0) {\r\n            message.warn('请选择要删除的数据!');\r\n            return;\r\n        }\r\n        Modal.confirm({\r\n            title: \"确定要删除吗?\",\r\n            okText: '删除',\r\n            cancelText: '取消',\r\n            onOk: () => {\r\n                service.deleteRoles(this.state.selectedRowKeys).then(res => {\r\n                    this.setState({ selectedRowKeys: [] })\r\n                    this.loadData()\r\n                    message.info('删除成功!');\r\n                }).catch(err => {\r\n                    message.error(err.toString());\r\n                })\r\n\r\n            }\r\n        })\r\n    }\r\n    // 删除当前角色\r\n    handleRoleDelte = (id) => {\r\n        service.deleteRoles([id]).then(res => {\r\n            this.loadData()\r\n            message.info('删除成功!');\r\n        }).catch(err => {\r\n            message.error(err.toString());\r\n        })\r\n    }\r\n    // 添加 \r\n    handleAdd = () => {\r\n        this.setState({\r\n            showAddRoleDialog: true\r\n        })\r\n\r\n    }\r\n    // 添加角色\r\n    addRole = (role) => {\r\n        let newRole = Object.assign({\r\n            id: Date.now(),\r\n            del: 0,\r\n            subon: formateDate2String(new Date()),\r\n            status: 0\r\n        }, role);\r\n        service.addRole(newRole).then(res => {\r\n            message.info('添加成功')\r\n            this.cloeAddDialog()\r\n            this.loadData()\r\n        }).catch(e => {\r\n            console.log(e);\r\n            message.error('添加失败')\r\n        })\r\n\r\n    }\r\n    // 关闭添加对话框\r\n    cloeAddDialog = () => {\r\n        this.setState({\r\n            showAddRoleDialog: false,\r\n        })\r\n    }\r\n    // 设置角色权限\r\n    handleRolePer = () => {\r\n        if (this.state.selectedRowKeys.length !== 1) return message.error('请选中一条数据!')\r\n        let setRolePer = this.state.rolelist.find(item => item.id === this.state.selectedRowKeys[0])\r\n        this.setState({ showSetRolePerDialog: true, setRolePer: setRolePer })\r\n\r\n\r\n    }\r\n    buttonStyle = {\r\n        margin: \"5px\"\r\n    }\r\n    render() {\r\n        // 定义声明存子组件复选框的值\r\n        let setRolePerCom = null;\r\n        let { selectedRowKeys } = this.state;\r\n        // tab复选框选择进行触发\r\n        let userRowSelection = {\r\n            selectedRowKeys: selectedRowKeys,\r\n            onChange: (selectedRowKeys) => {\r\n                // 获取ID\r\n                this.setState({ selectedRowKeys: selectedRowKeys })\r\n\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Breadcrumb>\r\n                    <Breadcrumb.Item>\r\n                        <Link to=\"/home\">首页</Link>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        <Link to=\"/home/user_mgr\">角色管理</Link>\r\n                    </Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <hr />\r\n                <Button\r\n                    style={this.buttonStyle}\r\n                    type=\"primary\"\r\n                    onClick={this.handleAdd}\r\n                >添加</Button>\r\n                <Button style={this.buttonStyle} type=\"primary\" onClick={this.handleBarEdit} >编辑</Button>\r\n                <Button style={this.buttonStyle} type=\"danger\" onClick={this.handleDelte}>删除</Button>\r\n                <Button style={this.buttonStyle} type=\"danger\" onClick={this.handleRolePer}>设置角色权限</Button>\r\n                <Search placeholder=\"搜索\" enterButton\r\n                    style={{ 'width': '300px', margin: \"5px\" }}\r\n                    onSearch={this.handleSearch}\r\n                />\r\n                <Table\r\n                    style={{ 'background': '#fefefe' }}\r\n                    dataSource={this.state.rolelist}\r\n                    columns={this.state.columns}\r\n                    rowKey={record => record.id}\r\n                    bordered\r\n                    rowSelection={userRowSelection}\r\n\r\n                    pagination={{ total: this.state.total, pageSize: 6, defaultCurrent: 1, onChange: this.changePage }}\r\n                />\r\n                <AddRole\r\n                    visible={this.state.showAddRoleDialog}\r\n                    close={this.cloeAddDialog}\r\n                    addRole={this.addRole}\r\n                />\r\n                <EditRole\r\n                    visible={this.state.showEditRoleDialog}\r\n                    close={this.cloeEditDialog}\r\n                    data={this.state.editRole}\r\n                    saveRole={this.saveRole}\r\n                />\r\n                {/* 设置权限 */}\r\n                <Modal\r\n                    visible={this.state.showSetRolePerDialog}\r\n                    okText=\"设置\"\r\n                    cancelText=\"取消\"\r\n                    title=\"设置角色权限\"\r\n                    onCancel={() => this.setState({ showSetRolePerDialog: false })}\r\n                    onOk={() => {\r\n                        // 触发子组件方法获取复选框值\r\n                        setRolePerCom.handleSubmitSetPer()\r\n                    }}\r\n\r\n                >\r\n                    <SetRolePer close={() => this.setState({ showSetRolePerDialog: false })} ref={setRP => setRolePerCom = setRP} data={this.state.setRolePer} />\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n    Form,\r\n    Input,\r\n    Upload,\r\n    Icon,\r\n    Button,\r\n} from 'antd';\r\nimport { getLoginToken } from '../../../Common/Auth'\r\n\r\nexport default class AddUserFrom extends Component {\r\n    handleChangeAvatar = (e) => {\r\n        if (e.file.response) {\r\n            return e.file.response.img;\r\n\r\n        }\r\n        return ''\r\n    }\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Form layout=\"horizontal\"\r\n                labelCol={{ span: 4 }}\r\n                wrapperCol={{ span: 20 }}\r\n            >\r\n                <Form.Item label=\"用户头像\">\r\n                    {getFieldDecorator('avatar', {\r\n                        // 从方法中拿 值 \r\n                        getValueFromEvent: this.handleChangeAvatar,\r\n                        rules: [\r\n                            {\r\n                                required: true,\r\n                                message: '请上传图片!',\r\n                            }\r\n                        ],\r\n                    })(\r\n                        <Upload\r\n                            accept=\"image/*\"\r\n                            action=\"/per/upload\"\r\n                            headers={{ Authorization: getLoginToken() }}\r\n                            name=\"imgF\"\r\n                            listType=\"picture\"\r\n                            onChange={this.handleChangeAvatar}\r\n                            // fileList={this.props.fileList}\r\n                        >\r\n                            <Button>上传头像</Button>\r\n                        </Upload>\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"用户名\">\r\n                    {getFieldDecorator('username', {\r\n                        rules: [\r\n                            {\r\n                                pattern: /\\w{6,20}/gi,\r\n                                message: '请输入6-20个字符',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入用户名',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\" ></Icon>}\r\n                        placeholder=\"用户名\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"邮箱\">\r\n                    {getFieldDecorator('mail', {\r\n                        rules: [\r\n                            {\r\n                                type: 'email',\r\n                                message: '请输入正确的邮箱格式',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入邮箱',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"mail\"></Icon>}\r\n                        placeholder=\"邮箱\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"姓名\">\r\n                    {getFieldDecorator('name', {\r\n                        rules: [\r\n                            {\r\n                                min: 2,\r\n                                message: '请输入大于2个字符',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入姓名',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\"></Icon>}\r\n                        placeholder=\"姓名\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"密码\">\r\n                    {getFieldDecorator('password', {\r\n                        rules: [\r\n                            {\r\n                                pattern: /\\w{6,20}/gi,\r\n                                message: '请输入6-20个字符!',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入密码!',\r\n                            }\r\n                        ],\r\n                    })(\r\n                        <Input prefix={\r\n                            <Icon type=\"safety\" />\r\n                        }\r\n                            placeholder=\"密码\"\r\n                        />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"电话\">\r\n                    {getFieldDecorator('phone', {\r\n                        rules: [\r\n                            {\r\n                                pattern: /\\d{11}/gi,\r\n                                message: '请输入11个字符!',\r\n                            }\r\n                        ],\r\n                    })(\r\n                        <Input prefix={<Icon type=\"phone\"></Icon>}\r\n                            placeholder=\"电话\"\r\n                        />\r\n                    )}\r\n                </Form.Item>\r\n            </Form>\r\n\r\n        )\r\n    }\r\n}\r\n","// 用户管理\r\nimport ActionTypes from './../Action/ActionTyps'\r\n/**\r\n * preState:之前的状态 \r\n * action 传入类型\r\n */\r\nlet preState = {\r\n    list: [],\r\n    total: 0\r\n}\r\nexport default function UserReducer(state = preState, action) {\r\n    switch (action.type) {\r\n        case ActionTypes.LOAD_USER_LIST:\r\n            return action.payload;\r\n        case ActionTypes.ADD_USER:\r\n            state.list.unshift(action.payload)\r\n            state.total += 1;\r\n            return { ...state };\r\n        case ActionTypes.EIDT_USER:\r\n            /**\r\n             * 把列表中的所有数据(一个数组),把数据的id与传参的ID进行匹配,获取对应的下标\r\n             * 进行下标删除,再把当前的值追加进去\r\n             */\r\n            let preUserIndex = state.list.findIndex(item => item.id === action.payload.id)\r\n            state.list.splice(preUserIndex, 1, action.payload)\r\n            return { ...state };\r\n      \r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n}","// 用户管理\r\nimport ActionTypes from './../Action/ActionTyps'\r\n/**\r\n * preState:之前的状态 \r\n * action 传入类型\r\n */\r\nlet preState = {\r\n    list: [],\r\n    total: 0\r\n}\r\nexport default function PerReducer(state = preState, action) {\r\n    let newState = { ...state };\r\n    switch (action.type) {\r\n        case ActionTypes.LOAD_PER_LIST:\r\n            return action.payload;\r\n        case ActionTypes.ADD_PER:\r\n            newState.list.unshift(action.payload)\r\n            newState.total += 1\r\n            return newState;\r\n        case ActionTypes.EDIT_PER://修改数据\r\n            let editPerIndex = newState.list.find(item => item.id === action.payload.id)\r\n            // 对list删除项目并把修改后的数据传入当前位置\r\n            state.list.splice(editPerIndex, 1, action.payload)\r\n            return { ...state };\r\n        // 删除\r\n        case ActionTypes.DEL_PER:\r\n            newState.list = newState.list.filter(item => !action.payload.includes(item.id))\r\n            newState.total = newState.total - action.payload.length;\r\n            return newState;\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n}","import { combineReducers } from 'redux'\r\nimport UserReducer from './UserReducer'\r\nimport PerReducer from './PerReducer'\r\n// 把合并后的reducer导出去\r\nexport default combineReducers({\r\n    // 导出之后通过sotre返回至atcion最后页面渲染\r\n    UserList: UserReducer,\r\n    PerList: PerReducer\r\n})","import { applyMiddleware, createStore, compose } from 'redux'\r\nimport rootReducer from './Reducer'\r\nimport thunk from 'redux-thunk'\r\n/**\r\n * 大概流程就是：store.dispatch=>action=>reducer=>state\r\n * 要改变的组件，它获取state和action，生成新的state\r\n * rootReducer,作用收到action以后必须给出一个新的state,这样view才会发生变化,这种state的计算过程就叫做reducer\r\n * {}为初始值\r\n * applyMiddleware将所有中间件组成一个数组\r\n */\r\nconst store = createStore(\r\n    rootReducer,\r\n    {},\r\n    compose(\r\n        applyMiddleware(thunk),\r\n        // 调试\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    ))\r\n\r\nexport default store;","import ActionTyps from './ActionTyps'\r\nimport service from '../Service'\r\n// 同步\r\nexport function loadUserAction(payload) {\r\n    return {\r\n        type: ActionTyps.LOAD_USER_LIST,\r\n        payload,\r\n\r\n    }\r\n}\r\n// 异步 redux-thunk用法;\r\nexport const LoadUserActionAsync = (params) => (dispatch) => {\r\n    // 调用用户请求,把返回值放入loadUserAction()方法中\r\n    service.loadUserList(params).then(res => {\r\n        // dispatch(loadUserAction(res.data))\r\n        let total = parseInt(res.headers['x-total-count'])\r\n        dispatch({\r\n            type: ActionTyps.LOAD_USER_LIST,\r\n            payload: {\r\n                list: res.data,\r\n                total: total\r\n            }\r\n        })\r\n    })\r\n}\r\n// 新增表单\r\nexport const AddUserActionAsync = (params) => (dispatch) => {\r\n    return service.addUser(params).then(res => {\r\n        dispatch({\r\n            type: ActionTyps.ADD_USER,\r\n            payload: res.data,\r\n        })\r\n    })\r\n}\r\n// 修改用户表单\r\nexport const EditUserActionAsync = (params) => (dispatch) => {\r\n    return service.updataUser(params).then(res => {\r\n        dispatch({\r\n            type: ActionTyps.EIDT_USER,\r\n            payload: res.data,\r\n        })\r\n    })\r\n}\r\n","/**\r\n *   添加用户\r\n */\r\n\r\nimport React, { Component } from 'react'\r\nimport { Modal, Form, message } from 'antd';\r\nimport AddUserFrom from './AddUserFrom'\r\nimport store from '../../../store'\r\nimport { AddUserActionAsync } from '../../../Action/UserAction'\r\nconst AddUserFromComponent = Form.create({ name: 'adduser_from' })(AddUserFrom)\r\n\r\nexport default class AddUser extends Component {\r\n    state = {\r\n        confirmLoading: false\r\n    }\r\n    // from用户输入的值 \r\n    userAddFrm = null\r\n    // 确定\r\n    handleOk = () => {\r\n        // 校验方法\r\n        this.userAddFrm.validateFields((err, data) => {\r\n            if (err) return;\r\n            // axios\r\n            data.del = 0;\r\n            data.id = Date.now();//后台没有反回id;这里模拟一下ID数据\r\n            data.isTeacher = false;\r\n            data.avatar = process.env.REACT_APP_BASEURL + data.avatar;//给后台返回的图片路径加上动态前缀\r\n            store.dispatch(AddUserActionAsync(data))\r\n                .then(res => {\r\n                    message.info('添加成功！');\r\n                    // 重置添加对话框和关闭对话框。\r\n                    this.hanldeCloseModal();\r\n                })\r\n                .catch((e) => {\r\n                    message.error('添加失败！请重试!');\r\n                    console.log(e);\r\n                });\r\n        })\r\n    }\r\n    // 重轩表单方法\r\n    hanldeCloseModal = () => {\r\n        this.props.close()\r\n        // 清理上传文件\r\n        // this.setState({ fileList: [] });\r\n        // 重置表单\r\n        this.userAddFrm.resetFields()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal\r\n                title='添加用户信息'\r\n                visible={this.props.visible}\r\n                onOk={this.handleOk}\r\n                confirmLoading={this.state.confirmLoading}\r\n                cancelText=\"取消\"\r\n                onCancel={this.hanldeCloseModal}\r\n            >\r\n                {/* 引入子组件 */}\r\n                <AddUserFromComponent ref={frm => this.userAddFrm = frm} />\r\n\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {\r\n    Form,\r\n    Input,\r\n    Icon,\r\n} from 'antd';\r\n\r\nexport default class EditUserFrom extends Component {\r\n    componentDidMount() {\r\n        // 获取当前的form表单并传值 \r\n        this.props.form.setFieldsValue({\r\n            name: this.props.data.name,\r\n            username: this.props.data.username,\r\n            user: this.props.data.user,\r\n            mail: this.props.data.mail,\r\n            password: this.props.data.password,\r\n            phone: this.props.data.phone\r\n        })\r\n    }\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Form layout=\"horizontal\"\r\n                labelCol={{ span: 4 }}\r\n                wrapperCol={{ span: 20 }}\r\n            >\r\n\r\n                <Form.Item label=\"用户名\">\r\n                    {getFieldDecorator('username', {\r\n                        rules: [\r\n                            {\r\n                                pattern: /\\w{6,20}/gi,\r\n                                message: '请输入6-20个字符',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入用户名',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\" ></Icon>}\r\n                        placeholder=\"用户名\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"邮箱\">\r\n                    {getFieldDecorator('mail', {\r\n                        rules: [\r\n                            {\r\n                                type: 'email',\r\n                                message: '请输入正确的邮箱格式',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入邮箱',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"mail\"></Icon>}\r\n                        placeholder=\"邮箱\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"姓名\">\r\n                    {getFieldDecorator('name', {\r\n                        rules: [\r\n                            {\r\n                                min: 2,\r\n                                message: '请输入大于2个字符',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入姓名',\r\n                            },\r\n                        ],\r\n                    })(<Input prefix={<Icon type=\"user\"></Icon>}\r\n                        placeholder=\"姓名\"\r\n                    />)}\r\n                </Form.Item>\r\n                <Form.Item label=\"密码\">\r\n                    {getFieldDecorator('password', {\r\n                        rules: [\r\n                            {\r\n                                pattern: /\\w{6,20}/gi,\r\n                                message: '请输入6-20个字符!',\r\n                            },\r\n                            {\r\n                                required: true,\r\n                                message: '请输入密码!',\r\n                            }\r\n                        ],\r\n                    })(\r\n                        <Input prefix={\r\n                            <Icon type=\"safety\" />\r\n                        }\r\n                            placeholder=\"密码\"\r\n                        />\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item label=\"电话\">\r\n                    {getFieldDecorator('phone', {\r\n                        rules: [\r\n                            {\r\n                                pattern: /\\d{11}/gi,\r\n                                message: '请输入11个字符!',\r\n                            }\r\n                        ],\r\n                    })(\r\n                        <Input prefix={<Icon type=\"phone\"></Icon>}\r\n                            placeholder=\"电话\"\r\n                        />\r\n                    )}\r\n                </Form.Item>\r\n            </Form>\r\n\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Modal, Form, message } from 'antd';\r\nimport store from '../../../store'\r\nimport { EditUserActionAsync } from '../../../Action/UserAction'\r\n\r\nimport EditUserFrom from './EditUserFrom'\r\nconst EditUserFromComponent = Form.create({ name: 'edit_from' })(EditUserFrom)\r\n\r\nexport default class EditUser extends Component {\r\n    editFrm = null;\r\n    // 修改事件,获取form中的数据 ,并提交\r\n    handleEditUser = () => {\r\n        this.editFrm.validateFields((err, val) => {\r\n            if (err) return;\r\n            // 提交表单,所修改的和没修改的值一并传入\r\n            let newUser = { ...this.props.data, ...val }\r\n            store.dispatch(EditUserActionAsync(newUser)).then(res => {\r\n                message.info('修改成功')\r\n                this.props.close()\r\n\r\n            }).catch(err => {\r\n                message.error('修改失败')\r\n            })\r\n\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Modal title='添加用户信息'\r\n                    visible={this.props.visible}\r\n                    okText=\"修改\"\r\n                    cancelText='取消'\r\n                    onCancel={() => { this.props.close() }}\r\n                    onOk={this.handleEditUser}\r\n                    destroyOnClose\r\n                >\r\n                    <EditUserFromComponent ref={frm => this.editFrm = frm} data={this.props.data} />\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","// 设置角色\r\nimport React, { Component } from 'react'\r\nimport { Modal, message, Checkbox, Row, Col } from 'antd';\r\nimport Service from '../../../Service'\r\nimport { formateDate2String } from '../../../Common/Helper'\r\n\r\nexport default class SetRole extends Component {\r\n    state = {\r\n        allRole: [],//所有用户角色\r\n        userRoles: [],//当前用户已经管理的所有角色中间表数据\r\n        allCheckedRole: [],//当前选中的角色\r\n    }\r\n    // 异步加载解决地域回调问题 \r\n    async componentDidMount() {\r\n        // 传入当前用户的角色id\r\n        let userRoles = await Service.loadUserRoles(this.props.data.id)//加载用户关联的角色信息\r\n        let roles = await Service.loadAllRoles()\r\n        // 匹配当前用户已有的角色推入allCheckedRole\r\n        let checkedRoleArr = []\r\n        userRoles.data.forEach(userRole => {\r\n            let roleInfo = roles.data.find(role => role.id === userRole.roleId)\r\n            if (roleInfo) {\r\n                checkedRoleArr.push(roleInfo)\r\n            }\r\n        })\r\n        this.setState({\r\n            userRoles: userRoles.data,\r\n            allRole: roles.data,\r\n            allCheckedRole: checkedRoleArr\r\n        })\r\n\r\n    }\r\n    // checked选中或取消触发事件\r\n    handleChangeCheckbox = (role, e) => {\r\n        // console.log(e.target.checked);\r\n        // console.log(role);\r\n        let checkedRoleArr = [...this.state.allCheckedRole]\r\n        if (e.target.checked) {\r\n            checkedRoleArr.push(role)\r\n        } else {\r\n            // 移除 \r\n            checkedRoleArr = checkedRoleArr.filter(item => item.id !== role.id)\r\n        }\r\n        this.setState({ allCheckedRole: checkedRoleArr })\r\n\r\n\r\n    }\r\n    // 确定提交\r\n    handleSubmitSetRole = () => {\r\n        // allCheckedRole  当前选中的角色\r\n        let { allCheckedRole, userRoles } = this.state;\r\n        let promiseArr = [];\r\n        // 判断要添加的\r\n        // 最终的选中的role集合中不在原来的关联表中存在，就是添加的新关联。\r\n        allCheckedRole.forEach((role, index) => {\r\n            let addRoleIndex = userRoles.findIndex(userRole => userRole.roleId === role.id)\r\n            if (addRoleIndex < 0) {\r\n                let p1 = Service.addUserRole({\r\n                    id: Date.now() + index,\r\n                    del: 0,\r\n                    subon: formateDate2String(new Date()),\r\n                    roleId: role.id,\r\n                    userId: this.props.data.id\r\n                })\r\n                promiseArr.push(p1)\r\n            }\r\n        })\r\n        // 判断要删除的用户\r\n        userRoles.forEach(userRole => {\r\n            // 匹配用户本身已有的角色和选中的做对比,把没有的进行删除\r\n            let searchRoleIndex = allCheckedRole.findIndex(role => role.id === userRole.roleId)\r\n            if (searchRoleIndex < 0) {\r\n                let p2 = Service.deleteUserRole(userRole.id)\r\n                promiseArr.push(p2)\r\n            }\r\n        })\r\n        // 把返回的结果放入promiseArr中再由Promise一个个返回\r\n        Promise.all(promiseArr).then(res => {\r\n            message.success('修改成功')\r\n            this.props.close()\r\n        }).catch(err => {\r\n            console.log(err);\r\n            message.error('修改失败')\r\n\r\n        })\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <Modal title='设置用户角色'\r\n                visible={this.props.visible}\r\n                okText=\"设置\"\r\n                cancelText='取消'\r\n                onCancel={() => { this.props.close() }}\r\n                onOk={this.handleSubmitSetRole}\r\n                destroyOnClose\r\n            >\r\n                <Row>\r\n                    {\r\n                        this.state.allRole.map((role, index) => {\r\n                            // 判断当前用户是否关联了角色,如关联就设置勾选\r\n                            let checkd = false;\r\n                            if (this.state.userRoles.some(userRole => userRole.roleId === role.id)) {\r\n                                checkd = true;\r\n                            }\r\n                            return (\r\n                                <Col span={8} key={role.id}>\r\n                                    <Checkbox\r\n                                        defaultChecked={checkd}\r\n                                        onChange={(e) => this.handleChangeCheckbox(role, e)}\r\n                                    >\r\n                                        {role.name}\r\n                                    </Checkbox>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                </Row>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Modal, message, Checkbox, Row, Col } from 'antd';\r\nimport Service from '../../../Service'\r\nimport { formateDate2String } from '../../../Common/Helper'\r\nimport { blue } from '@ant-design/colors';\r\n\r\nexport default class SetPer extends Component {\r\n    state = {\r\n        allPer: [],//所有用户权限数据\r\n        userPer: [],//用户已关联的数据 \r\n        allCheckedPer: [],//最终用户选中的权限\r\n    }\r\n    async componentDidMount() {\r\n        // 加载所有权限数据\r\n        let allPer = await Service.loadAllPer().then(res => res.data)\r\n        //用户已关联的数据 \r\n        let userPer = await Service.loadUserPer(this.props.data.id).then(res => res.data)\r\n        //    已被选中的数据\r\n        let allCheckedPer = []\r\n        // 匹配用户已有的数据进行推入选中权限中\r\n        userPer.forEach(userPer => {\r\n            let per = allPer.find(per => per.id === userPer.permissionId);\r\n            if (per) allCheckedPer.push(per)\r\n        })\r\n        // 当上面所有请求完数据,更新状态\r\n        this.setState({ allPer, userPer, allCheckedPer })\r\n    }\r\n    // 点击复选框触发\r\n    handleChangeChecked = (per, e) => {\r\n        // 拷贝生成新的数组,在react中不能直接修改\r\n        let allCheckedPer = [...this.state.allCheckedPer]\r\n        // 选中;\r\n        if (e.target.checked) {\r\n            // 添加\r\n            allCheckedPer.push(per)\r\n        } else {\r\n            // 取消选中,从allCheckedPer移除\r\n            allCheckedPer = allCheckedPer.filter(item => item.id !== per.id)\r\n        }\r\n        this.setState({ allCheckedPer })\r\n\r\n    }\r\n    // 提交\r\n    handleSubmitSetPer = () => {\r\n        let { allCheckedPer, userPer } = this.state;\r\n        let promiseArr = []\r\n        // 添加的数据\r\n        promiseArr.push(\r\n            allCheckedPer.forEach((per, index) => {\r\n                if (userPer.findIndex(rp => rp.permissionId === per.id) < 0) {\r\n                    Service.addUserPer({\r\n                        id: Date.now() + index,\r\n                        del: 0,\r\n                        subon: formateDate2String(new Date()),\r\n                        userId: this.props.data.id,\r\n                        permissionId: per.id\r\n                    })\r\n                }\r\n            })\r\n        )\r\n        // 删除的数据,如果用户本身已有的值不在allcheckedPer集合用就是删除\r\n        userPer.forEach(rp => {\r\n            if (allCheckedPer.findIndex(per => rp.permissionId === per.id) < 0) {\r\n                // 删除 \r\n                promiseArr.push(Service.deleteUserPer(rp.id))\r\n            }\r\n        })\r\n        Promise.all(promiseArr).then(res => {\r\n            message.success('设置成功')\r\n            this.props.close()\r\n        }).catch(err => {\r\n            console.log('err', err);\r\n            message.error('设置失败')\r\n        })\r\n\r\n    }\r\n    render() {\r\n        let { userPer, allPer } = this.state;\r\n        return (\r\n            <Modal title='设置用户权限角色'\r\n                visible={this.props.visible}\r\n                okText=\"设置\"\r\n                cancelText='取消'\r\n                onCancel={() => { this.props.close() }}\r\n                onOk={this.handleSubmitSetPer}\r\n                destroyOnClose\r\n            >\r\n                <h3>给角色: <span style={{ 'color': blue[5] }}>{this.props.data.name} </span>设置角色权限</h3>\r\n\r\n                <hr />\r\n                <Row gutter={16}>\r\n                    {\r\n                        //allPer 所有用户权限数据\r\n                        allPer.map(per => {\r\n                            let checked = false;\r\n                            // 判断用户已有权限是否在所有权限当中,如果index>-1就是有值返回并进行勾选\r\n                            checked = userPer.findIndex(up => up.permissionId === per.id) > 0\r\n                            return (\r\n                                <Col span={8} key={per.id}>\r\n                                    {/* defaultChecked/初始是否选中 */}\r\n                                    <Checkbox onChange={(e) => { this.handleChangeChecked(per, e) }} defaultChecked={checked}>{per.des}</Checkbox>\r\n                                </Col>\r\n\r\n                            )\r\n                        })\r\n                    }\r\n\r\n                </Row>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n","/**\r\n * 用户管理\r\n */\r\nimport React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Input, Breadcrumb, Table, Button, Modal, message, Avatar, Popconfirm } from 'antd'\r\nimport AddUser from './AddUser'\r\nimport EditUser from './EditUser'\r\nimport SetRole from './SetRole'\r\nimport SetPer from './SetPer'\r\nimport service from '../../../Service'\r\n// 调用atcion中的方法把数据传入store\r\nimport { LoadUserActionAsync } from '../../../Action/UserAction'\r\nimport store from '../../../store'\r\nconst { Search } = Input;\r\nexport default class UserMgr extends Component {\r\n    state = {\r\n        total: 0,\r\n        unsubscribe: null,\r\n        userlist: store.getState().UserList.list,//获取当前state \r\n        columns: [\r\n            {\r\n                title: '编号',\r\n                dataIndex: 'id',\r\n            },\r\n            {\r\n                title: '姓名',\r\n                dataIndex: 'name',\r\n            },\r\n            {\r\n                title: '电话',\r\n                dataIndex: 'phone',\r\n            },\r\n            {\r\n                title: '登录名',\r\n                dataIndex: 'username',\r\n            },\r\n            {\r\n                title: '头像',\r\n                dataIndex: 'avatar',\r\n                render: (avatar) => <Avatar src={avatar} />\r\n            },\r\n            {\r\n                title: '编辑',\r\n                dataIndex: 'del',\r\n                render: (del, row) => {\r\n                    return (\r\n                        <div>\r\n                            <Button type=\"primary\" style={{ \"marginRight\": \"5px\" }}\r\n                                onClick={() => { this.setState({ showEditUserDialog: true, editUserRow: row }) }}\r\n\r\n                            >编辑</Button>\r\n                            <Popconfirm\r\n                                title=\"确定删除?\"\r\n                                onConfirm={() => {\r\n                                    this.handleUserDelte(row.id)\r\n\r\n                                }}\r\n                                okText=\"确定\"\r\n                                cancelText=\"取消\"\r\n                            >\r\n                                <Button type=\"danger\"> 删除</Button>\r\n                            </Popconfirm>\r\n                        </div>\r\n                    )\r\n                }\r\n            },\r\n        ],\r\n        params: {\r\n            _page: 1,\r\n            _limit: 6\r\n        },\r\n        // 显示新增对话框\r\n        showAddUserDialog: false,\r\n        // 显示修改对话框 \r\n        showEditUserDialog: false,\r\n        showSetRoleDialog: false,\r\n        showSetPerDialog: false,\r\n        editUserRow: null,//当前用户信息\r\n        setRoleUser: null,\r\n        setPerUser: null,//权限信息\r\n        // 选中数据\r\n        selectedRowKeys: [],\r\n        // 添加角色对话框\r\n        showAddRoleDialog: false,\r\n    }\r\n    //点击分页\r\n    changePage = (page, pageSize, q = \"\") => {\r\n        /**\r\n         * 解决异步问题 ,否则点击的时候参数回慢一步\r\n         * preStatesetState调用是 批量处理的，\r\n         * 因此可以让更新建立在彼此之上，避免冲突。\r\n         *  第一个参数是一个对象，\r\n         * 第二个参数是一个回调函数，\r\n         * 在setState的异步操作结束并且组件已经重新渲染的时候执行\r\n         * */\r\n        if (!!q) {\r\n            q = this.state.params.q;\r\n        }\r\n        this.setState(preState => {\r\n            // 一个是接收前一个状态值作为第一个参数，并将更新后的值作为第二个参数\r\n            return { ...preState, ...{ params: { _page: page, _limit: pageSize, q: q } } }\r\n        }, () => {//回调\r\n            store.dispatch(LoadUserActionAsync(this.state.params))\r\n        })\r\n    }\r\n    //当页面发生变化后重新加载状态 \r\n    userListChange = () => {\r\n        const UserList = store.getState().UserList\r\n        this.setState({ userlist: UserList.list, total: UserList.total })\r\n    }\r\n\r\n    // 批量删除\r\n    handleDelte = () => {\r\n        if (this.state.selectedRowKeys.length <= 0) {\r\n            message.warn('请选择要删除的数据!');\r\n            return;\r\n        }\r\n        Modal.confirm({\r\n            title: \"确定要删除吗?\",\r\n            okText: '删除',\r\n            cancelText: '取消',\r\n            onOk: () => {\r\n                service.deleteUser(this.state.selectedRowKeys).then(res => {\r\n                    this.setState({ selectedRowKeys: [] })\r\n                    store.dispatch(LoadUserActionAsync(this.state.params))\r\n                    message.info('删除成功!');\r\n                }).catch(err => {\r\n                    message.error('删除失败!');\r\n\r\n\r\n                })\r\n\r\n            }\r\n        })\r\n    }\r\n    // 编辑\r\n    handleEdit = () => {\r\n        if (this.state.selectedRowKeys.length !== 1) {\r\n            message.error('请选中一条数据进行编辑')\r\n            return;\r\n        }\r\n        const userId = this.state.selectedRowKeys[0]\r\n        //find 返回数组中第一个元素的值\r\n        let editUser = store.getState().UserList.list.find(item => item.id === userId)\r\n        this.setState({\r\n            editUserRow: editUser,\r\n            showEditUserDialog: true\r\n        })\r\n\r\n    }\r\n    // 删除当前用户\r\n    handleUserDelte = (id) => {\r\n        service.deleteUser([id]).then(res => {\r\n            store.dispatch(LoadUserActionAsync(this.state.params))\r\n            message.info('删除成功!');\r\n            let newSelectRowKeys = this.state.selectedRowKeys.filter(item => item !== id)\r\n            this.setState({ selectedRowKeys: newSelectRowKeys })\r\n        }).catch(err => {\r\n            message.error('删除失败!');\r\n\r\n\r\n        })\r\n    }\r\n    // 页面加载发送请求\r\n    componentDidMount() {\r\n        /**\r\n         * 通过 store.dispatch() \r\n         * 将 action 传到 store。\r\n         */\r\n        store.dispatch(LoadUserActionAsync(this.state.params))\r\n        //   订阅 用subscribe监听每次修改情况,(注册监听器，例如在更新state前做一些行为)\r\n        const unsubscribe = store.subscribe(this.userListChange)\r\n        this.setState({ unsubscribe: unsubscribe })\r\n        // service.loadUserList().then(res => {\r\n        //     this.setState({ userlist: res.data })\r\n\r\n        // })\r\n    }\r\n    // 卸载生命周期\r\n    componentWillUnmount() {\r\n        // 取消订阅\r\n        this.state.unsubscribe && (this.state.unsubscribe())\r\n    }\r\n    buttonStyle = { margin: '5px' }\r\n    // 隐藏新增对话框\r\n    hideAddUserDialog = () => {\r\n        this.setState({ showAddUserDialog: false })\r\n    }\r\n    // 隐藏修改对话框\r\n    hideEditUserDialog = () => {\r\n        this.setState({ showEditUserDialog: false })\r\n    }\r\n    // 设置角色\r\n    handleSetRole = () => {\r\n        if (this.state.selectedRowKeys.length !== 1) return message.error('请选中一条数据')\r\n        let setRoleUserId = this.state.selectedRowKeys[0]\r\n        let setRoleUser = this.state.userlist.find(item => item.id === setRoleUserId)\r\n        this.setState({\r\n            showSetRoleDialog: true,\r\n            setRoleUser: setRoleUser\r\n        })\r\n    }\r\n    // 点击设置权限\r\n    handleSetPer = () => {\r\n        if (this.state.selectedRowKeys.length !== 1) return message.error('请选中一条用户进行权限设置')\r\n        let setPerUserId = this.state.selectedRowKeys[0]\r\n        let setPerUser = this.state.userlist.find(item => item.id === setPerUserId)\r\n        this.setState({\r\n            showSetPerDialog: true,\r\n            setPerUser: setPerUser\r\n        })\r\n    }\r\n    render() {\r\n        let { selectedRowKeys } = this.state;\r\n        // tab复选框选择进行触发\r\n        let userRowSelection = {\r\n            selectedRowKeys: selectedRowKeys,\r\n            onChange: (selectedRowKeys) => {\r\n                // 获取ID\r\n                this.setState({ selectedRowKeys: selectedRowKeys })\r\n            }\r\n        }\r\n        return (\r\n\r\n            < div >\r\n                <Breadcrumb>\r\n                    <Breadcrumb.Item>\r\n                        <Link to=\"/home\">首页</Link>\r\n                    </Breadcrumb.Item>\r\n                    <Breadcrumb.Item>\r\n                        <Link to=\"/home/user_mgr\">用户管理</Link>\r\n                    </Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <hr />\r\n                <Button\r\n                    style={this.buttonStyle}\r\n                    type=\"primary\"\r\n                    onClick={() => this.setState({ showAddUserDialog: true })}\r\n                >添加</Button>\r\n                <Button style={this.buttonStyle} type=\"primary\" onClick={this.handleEdit} >编辑</Button>\r\n                <Button style={this.buttonStyle} type=\"danger\" onClick={this.handleDelte}>删除</Button>\r\n                <Button style={this.buttonStyle} type=\"danger\" onClick={this.handleSetRole}>设置角色</Button>\r\n                <Button style={this.buttonStyle} type=\"primary\" onClick={this.handleSetPer}>设置权限</Button>\r\n                <Search placeholder=\"搜索\" onSearch={value => {\r\n                    //把搜索参数放入state\r\n                    this.setState(preState => {\r\n                        preState.params.q = value\r\n                        return { ...preState }\r\n                    }, () => {\r\n                        // 发送请求\r\n                        this.changePage(1, 6, value)\r\n                    })\r\n\r\n\r\n                }} enterButton\r\n                    style={{ 'width': '300px', margin: \"5px\" }}\r\n                />\r\n                <Table\r\n                    style={{ 'background': '#fefefe' }}\r\n                    dataSource={this.state.userlist}\r\n                    columns={this.state.columns}\r\n                    rowKey={record => record.id}\r\n                    rowSelection={userRowSelection}\r\n                    bordered\r\n                    pagination={{ total: this.state.total, pageSize: 6, defaultCurrent: 1, onChange: this.changePage }}\r\n                />\r\n                <AddUser visible={this.state.showAddUserDialog} close={this.hideAddUserDialog} />\r\n                <EditUser\r\n                    visible={this.state.showEditUserDialog}\r\n                    close={this.hideEditUserDialog}\r\n                    data={this.state.editUserRow}\r\n                />\r\n                {\r\n                    this.state.showSetRoleDialog ?\r\n                        <SetRole\r\n                            visible={this.state.showSetRoleDialog}\r\n                            data={this.state.setRoleUser}\r\n                            close={() => { this.setState({ showSetRoleDialog: false }) }} /> :\r\n                        null\r\n                }\r\n                {\r\n                    this.state.showSetPerDialog ?\r\n                        <SetPer\r\n                            visible={this.state.showSetPerDialog}\r\n                            data={this.state.setPerUser}\r\n                            close={() => { this.setState({ showSetPerDialog: false }) }} /> :\r\n                        null\r\n                }\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport { Link, Route } from 'react-router-dom'\r\nimport AuthRoute from '../../Components/AuthRoute'\r\n\r\nexport default class GoodsMgr extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Link to={`${this.props.match.path}/p1`}>商品管理1</Link>|\r\n                <Link to={`${this.props.match.path}/p2`}>商品管理2</Link>\r\n                <hr />\r\n                <AuthRoute per={1578213927545} path={`${this.props.match.path}/p1`} render={() => {\r\n                    return (\r\n                        <h2>p1线上</h2>\r\n                    )\r\n                }}>\r\n\r\n                </AuthRoute>\r\n                <AuthRoute per={1578213940500} path={`${this.props.match.path}/p2`} render={() => {\r\n                    return (\r\n                        <h2>p2线上</h2>\r\n                    )\r\n                }}>\r\n\r\n                </AuthRoute>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport AuthRoute from '../../Components/AuthRoute'\r\nimport MenuBar from '../../Components/MenuBar';\r\nimport Top from '../../Components/Top';\r\nimport PerMgr from '../Admin/PerMgr';\r\nimport RoleMgr from '../Admin/RoleMgr';\r\nimport UserMgr from '../Admin/UserMgr';\r\nimport GoodsMgr from '../GoodsMgr';\r\nimport { getLoginToken } from '../../Common/Auth'\r\nimport Axios from 'axios';\r\n\r\n\r\nconst { Header, Footer, Sider, Content } = Layout;\r\nclass Home extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        // 设置当前用户ajax请求头全局的token\r\n        Axios.defaults.headers['Authorization'] = getLoginToken()\r\n        // 每次加载的时候清除LOGIN_USER_PER让数据保持同步\r\n        sessionStorage.removeItem('LOGIN_USER_PER')\r\n\r\n    }\r\n    componentDidMount() {\r\n    }\r\n    // 路径\r\n    render() {\r\n        const { match } = this.props;\r\n        return (\r\n            <Layout style={{ height: '100vh' }}>\r\n                <Header style={{ color: '#fff', padding: '0 15px' }}>\r\n                    <Top history={this.props.history} />\r\n                </Header>\r\n                <Layout>\r\n                    <Sider style={{ 'backgroundColor': '#fff' }}>\r\n                        <MenuBar history={this.props.history} />\r\n                    </Sider>\r\n                    <Content style={{ \"padding\": \"15px\" }}>\r\n                        {/* 路由 */}\r\n                        <Switch>\r\n                            {/* 使用home+user_mgr相当于user_mgr为home的子路由 per={1570872984243}用户管理权限的ID*/}\r\n                            <AuthRoute per={1570872984243} path={`${match.path}/user_mgr`} component={UserMgr} ></AuthRoute>\r\n                            <AuthRoute per={1570873025381} path={`${match.path}/role_mgr`} component={RoleMgr} ></AuthRoute>\r\n                            <AuthRoute per={1570873044424} path={`${match.path}/per_mgr`} component={PerMgr} ></AuthRoute>\r\n                            <Route path={`${match.path}/goods_mgr`} component={GoodsMgr}></Route>\r\n                            {/* 未匹配 */}\r\n                            <Route render={() =>\r\n                                <h3>欢迎进入安心帐后台管理系统</h3>\r\n                            } />\r\n                        </Switch>\r\n                    </Content>\r\n                </Layout>\r\n                <Footer style={{ backgroundColor: 'silver', height: '24px', padding: '0', lineHeight: '24px' }}>底部</Footer>\r\n\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\nexport default Home;","import React from 'react';\r\n// 路由\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\r\nimport Empty from './View/Empty'\r\nimport Login from './View/Login'\r\nimport Home from './View/Home'\r\nimport './App.scss';\r\nimport { AuthLogin } from './Common/Auth'\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/\" exact render={(props) => {\r\n            return <Redirect to=\"/home\"></Redirect>\r\n          }}></Route>\r\n          {/* render可以在当中做一些逻辑处理,如判断登录 */}\r\n          <Route path=\"/home\" render={(props) => {\r\n            // 校验用户是否做登录,没登录转登录页面\r\n            if (!AuthLogin()) {\r\n              // 跳转页面登录前记录当前页面请求的页面,登录成功之后现跳回用户之前要登录的页面\r\n              return <Redirect to={`/login?preurl=${props.match.path}`}></Redirect>\r\n            }\r\n            // 权限校验\r\n            return <Home {...props}></Home>\r\n          }} ></Route>\r\n          <Route path=\"/login\" component={Login} ></Route>\r\n          {/* 所有路径未匹配上的时候 */}\r\n          <Route component={Empty} >\r\n          </Route>\r\n\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n// import 'antd/dist/antd.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux'\r\nimport store from './store'\r\n// 打印当前配置的路径\r\n// console.log(process.env.REACT_APP_BASEURL);\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>\r\n    ,\r\n    document.getElementById('root')\r\n);\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}